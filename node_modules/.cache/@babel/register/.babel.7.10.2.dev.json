{
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _koa = _interopRequireDefault(require(\"koa\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _koaBody = _interopRequireDefault(require(\"koa-body\"));\n\nvar _koaBodyparser = _interopRequireDefault(require(\"koa-bodyparser\"));\n\nvar _cors = _interopRequireDefault(require(\"@koa/cors\"));\n\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\n\nvar _koaStatic = _interopRequireDefault(require(\"koa-static\"));\n\nvar _koaCompose = _interopRequireDefault(require(\"koa-compose\"));\n\nvar _koaJwt = _interopRequireDefault(require(\"koa-jwt\"));\n\nvar _config = require(\"./config/config\");\n\nvar _errorHandle = _interopRequireDefault(require(\"./common/errorHandle\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = new _koa.default();\nconst config = {\n  extensions: ['.png']\n};\nconst middleware = (0, _koaCompose.default)([(0, _cors.default)(), (0, _koaBody.default)(), (0, _koaStatic.default)(_path.default.join(__dirname, '../public'), config), //配置静态文件路径\n_errorHandle.default, //对未认证的请求进行错误处理\n(0, _koaJwt.default)({\n  secret: _config.JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /^\\/login/]\n}) // /public开头的路径不需要进行鉴权\n]);\napp.use(middleware);\napp.use(async (ctx, next) => {\n  await next();\n  console.log('finalllllllllllll');\n});\napp.use((0, _index.default)());\napp.listen(8000);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImtvYSIsImNvbmZpZyIsImV4dGVuc2lvbnMiLCJtaWRkbGV3YXJlIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJlcnJvckhhbmRsZSIsInNlY3JldCIsIkpXVF9TRUNSRVQiLCJ1bmxlc3MiLCJ1c2UiLCJjdHgiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLEdBQUcsR0FBRyxJQUFJQyxZQUFKLEVBQVo7QUFFQSxNQUFNQyxNQUFNLEdBQUc7QUFDWEMsRUFBQUEsVUFBVSxFQUFFLENBQUMsTUFBRDtBQURELENBQWY7QUFHQSxNQUFNQyxVQUFVLEdBQUcseUJBQVEsQ0FDdkIsb0JBRHVCLEVBRXZCLHVCQUZ1QixFQUd2Qix3QkFBTUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFdBQXJCLENBQU4sRUFBeUNMLE1BQXpDLENBSHVCLEVBRzJCO0FBQ2xETSxvQkFKdUIsRUFJVjtBQUNiLHFCQUFJO0FBQUNDLEVBQUFBLE1BQU0sRUFBRUM7QUFBVCxDQUFKLEVBQTBCQyxNQUExQixDQUFpQztBQUFDTixFQUFBQSxJQUFJLEVBQUUsQ0FBQyxXQUFELEVBQWMsVUFBZDtBQUFQLENBQWpDLENBTHVCLENBSzhDO0FBTDlDLENBQVIsQ0FBbkI7QUFTQUwsR0FBRyxDQUFDWSxHQUFKLENBQVFSLFVBQVI7QUFHQUosR0FBRyxDQUFDWSxHQUFKLENBQVMsT0FBT0MsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0FBRTFCLFFBQU1BLElBQUksRUFBVjtBQUNBQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWjtBQUVILENBTEQ7QUFPQWhCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRLHFCQUFSO0FBRUFaLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBVyxJQUFYIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtvYSBmcm9tICdrb2EnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGtvYUJvZHkgZnJvbSAna29hLWJvZHknXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdrb2EtYm9keXBhcnNlcidcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycydcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvaW5kZXgnXG5pbXBvcnQgc2VydmUgZnJvbSAna29hLXN0YXRpYydcbmltcG9ydCBjb21wb3NlIGZyb20gJ2tvYS1jb21wb3NlJ1xuaW1wb3J0IGp3dCBmcm9tICdrb2Etand0J1xuaW1wb3J0IHtKV1RfU0VDUkVUfSBmcm9tICcuL2NvbmZpZy9jb25maWcnXG5pbXBvcnQgZXJyb3JIYW5kbGUgZnJvbSAnLi9jb21tb24vZXJyb3JIYW5kbGUnXG5cblxuY29uc3QgYXBwID0gbmV3IGtvYSgpO1xuXG5jb25zdCBjb25maWcgPSB7XG4gICAgZXh0ZW5zaW9uczogWycucG5nJ11cbn1cbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcbiAgICBjb3JzKCksXG4gICAga29hQm9keSgpLFxuICAgIHNlcnZlKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSwgY29uZmlnKSwgLy/phY3nva7pnZnmgIHmlofku7bot6/lvoRcbiAgICBlcnJvckhhbmRsZSwgLy/lr7nmnKrorqTor4HnmoTor7fmsYLov5vooYzplJnor6/lpITnkIZcbiAgICBqd3Qoe3NlY3JldDogSldUX1NFQ1JFVH0pLnVubGVzcyh7cGF0aDogWy9eXFwvcHVibGljLywgL15cXC9sb2dpbi9dfSksIC8vIC9wdWJsaWPlvIDlpLTnmoTot6/lvoTkuI3pnIDopoHov5vooYzpibTmnYNcbiAgICBcbl0pXG5cbmFwcC51c2UobWlkZGxld2FyZSlcblxuXG5hcHAudXNlKCBhc3luYyAoY3R4LCBuZXh0KSA9PiB7XG4gICAgXG4gICAgYXdhaXQgbmV4dCgpXG4gICAgY29uc29sZS5sb2coJ2ZpbmFsbGxsbGxsbGxsbGxsJylcblxufSlcblxuYXBwLnVzZShyb3V0ZXIoKSlcblxuYXBwLmxpc3Rlbig4MDAwKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "koa",
        "config",
        "extensions",
        "middleware",
        "path",
        "join",
        "__dirname",
        "errorHandle",
        "secret",
        "JWT_SECRET",
        "unless",
        "use",
        "ctx",
        "next",
        "console",
        "log",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,GAAG,GAAG,IAAIC,YAAJ,EAAZ;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,UAAU,EAAE,CAAC,MAAD;AADD,CAAf;AAGA,MAAMC,UAAU,GAAG,yBAAQ,CACvB,oBADuB,EAEvB,uBAFuB,EAGvB,wBAAMC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAN,EAAyCL,MAAzC,CAHuB,EAG2B;AAClDM,oBAJuB,EAIV;AACb,qBAAI;AAACC,EAAAA,MAAM,EAAEC;AAAT,CAAJ,EAA0BC,MAA1B,CAAiC;AAACN,EAAAA,IAAI,EAAE,CAAC,WAAD,EAAc,UAAd;AAAP,CAAjC,CALuB,CAK8C;AAL9C,CAAR,CAAnB;AASAL,GAAG,CAACY,GAAJ,CAAQR,UAAR;AAGAJ,GAAG,CAACY,GAAJ,CAAS,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAE1B,QAAMA,IAAI,EAAV;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEH,CALD;AAOAhB,GAAG,CAACY,GAAJ,CAAQ,qBAAR;AAEAZ,GAAG,CAACiB,MAAJ,CAAW,IAAX",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/",
      "sourcesContent": [
        "import koa from 'koa'\nimport path from 'path'\nimport koaBody from 'koa-body'\nimport bodyParser from 'koa-bodyparser'\nimport cors from '@koa/cors'\nimport router from './routes/index'\nimport serve from 'koa-static'\nimport compose from 'koa-compose'\nimport jwt from 'koa-jwt'\nimport {JWT_SECRET} from './config/config'\nimport errorHandle from './common/errorHandle'\n\n\nconst app = new koa();\n\nconst config = {\n    extensions: ['.png']\n}\nconst middleware = compose([\n    cors(),\n    koaBody(),\n    serve(path.join(__dirname, '../public'), config), //配置静态文件路径\n    errorHandle, //对未认证的请求进行错误处理\n    jwt({secret: JWT_SECRET}).unless({path: [/^\\/public/, /^\\/login/]}), // /public开头的路径不需要进行鉴权\n    \n])\n\napp.use(middleware)\n\n\napp.use( async (ctx, next) => {\n    \n    await next()\n    console.log('finalllllllllllll')\n\n})\n\napp.use(router())\n\napp.listen(8000);"
      ]
    },
    "sourceType": "script",
    "mtime": 1593346761259
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaCombineRouters = _interopRequireDefault(require(\"koa-combine-routers\"));\n\nvar _publicRoutes = _interopRequireDefault(require(\"./publicRoutes\"));\n\nvar _loginRoutes = _interopRequireDefault(require(\"./loginRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (0, _koaCombineRouters.default)(_publicRoutes.default, _loginRoutes.default);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInB1YmxpY1JvdXRlcyIsImxvZ2luUm91dGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7Ozs7ZUFFZSxnQ0FBY0EscUJBQWQsRUFBNEJDLG9CQUE1QixDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21iaW5lUm91dGVzIGZyb20gJ2tvYS1jb21iaW5lLXJvdXRlcnMnXG5cbmltcG9ydCBwdWJsaWNSb3V0ZXMgZnJvbSAnLi9wdWJsaWNSb3V0ZXMnXG5pbXBvcnQgbG9naW5Sb3V0ZXMgZnJvbSAnLi9sb2dpblJvdXRlcydcblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJvdXRlcyhwdWJsaWNSb3V0ZXMsIGxvZ2luUm91dGVzKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "publicRoutes",
        "loginRoutes"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;eAEe,gCAAcA,qBAAd,EAA4BC,oBAA5B,C",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import combineRoutes from 'koa-combine-routers'\n\nimport publicRoutes from './publicRoutes'\nimport loginRoutes from './loginRoutes'\n\nexport default combineRoutes(publicRoutes, loginRoutes);"
      ]
    },
    "sourceType": "script",
    "mtime": 1592380520325
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "publicRoutes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nvar _PublicController = _interopRequireDefault(require(\"../api/PublicController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = new _koaRouter.default();\nrouter.prefix('/public');\nrouter.get('/getCaptcha', _PublicController.default.getCaptcha);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YmxpY1JvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJwdWJsaWNDb250cm9sbGVyIiwiZ2V0Q2FwdGNoYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGtCQUFKLEVBQWY7QUFJQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZDtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQywwQkFBaUJDLFVBQTNDO2VBRWVMLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IHB1YmxpY0NvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL1B1YmxpY0NvbnRyb2xsZXInXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKCk7XG5cblxuXG5yb3V0ZXIucHJlZml4KCcvcHVibGljJylcbnJvdXRlci5nZXQoJy9nZXRDYXB0Y2hhJywgcHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "publicRoutes.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "get",
        "publicController",
        "getCaptcha"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;AAIAD,MAAM,CAACE,MAAP,CAAc,SAAd;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,0BAAiBC,UAA3C;eAEeL,M",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import Router from 'koa-router'\nimport publicController from '../api/PublicController'\nconst router = new Router();\n\n\n\nrouter.prefix('/public')\nrouter.get('/getCaptcha', publicController.getCaptcha)\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1592970002246
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
        "sourceFileName": "PublicController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _svgCaptcha = _interopRequireDefault(require(\"svg-captcha\"));\n\nvar _redisConnect = require(\"../config/redisConnect\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const {\n      sid\n    } = ctx.request.query;\n\n    const newCaptca = _svgCaptcha.default.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 50\n    }); // console.log(newCaptca)\n    //将取到的sid值存入redis中并设置过期时间\n\n\n    (0, _redisConnect.setValue)(sid, newCaptca.text, 6000);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\nvar _default = new PublicController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlB1YmxpY0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiUHVibGljQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZ2V0Q2FwdGNoYSIsImN0eCIsInNpZCIsInJlcXVlc3QiLCJxdWVyeSIsIm5ld0NhcHRjYSIsInN2Z0NhcHRjaGEiLCJjcmVhdGUiLCJzaXplIiwiaWdub3JlQ2hhcnMiLCJjb2xvciIsIm5vaXNlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0IiwiYm9keSIsImNvZGUiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxnQkFBTixDQUF1QjtBQUNyQkMsRUFBQUEsV0FBVyxHQUFHLENBQUU7O0FBQ2hCLFFBQU1DLFVBQU4sQ0FBaUJDLEdBQWpCLEVBQXNCO0FBQ3BCLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFVRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBNUI7O0FBQ0EsVUFBTUMsU0FBUyxHQUFHQyxvQkFBV0MsTUFBWCxDQUFrQjtBQUNsQ0MsTUFBQUEsSUFBSSxFQUFFLENBRDRCO0FBRWxDQyxNQUFBQSxXQUFXLEVBQUUsT0FGcUI7QUFHbENDLE1BQUFBLEtBQUssRUFBRSxJQUgyQjtBQUlsQ0MsTUFBQUEsS0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSjJCO0FBS2xDQyxNQUFBQSxLQUFLLEVBQUUsR0FMMkI7QUFNbENDLE1BQUFBLE1BQU0sRUFBRTtBQU4wQixLQUFsQixDQUFsQixDQUZvQixDQVVwQjtBQUNBOzs7QUFDQSxnQ0FBU2QsR0FBVCxFQUFjRyxTQUFTLENBQUNZLElBQXhCLEVBQThCLElBQTlCO0FBQ0FoQixJQUFBQSxHQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsTUFBQUEsSUFBSSxFQUFFLEdBREc7QUFFVEMsTUFBQUEsSUFBSSxFQUFFZixTQUFTLENBQUNlO0FBRlAsS0FBWDtBQUlEOztBQW5Cb0I7O2VBc0JSLElBQUl0QixnQkFBSixFIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJ1xuaW1wb3J0IHtnZXRWYWx1ZSwgc2V0VmFsdWV9IGZyb20gJy4uL2NvbmZpZy9yZWRpc0Nvbm5lY3QnXG5cblxuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgYXN5bmMgZ2V0Q2FwdGNoYShjdHgpIHtcbiAgICBjb25zdCB7IHNpZCB9ID0gY3R4LnJlcXVlc3QucXVlcnk7XG4gICAgY29uc3QgbmV3Q2FwdGNhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xuICAgICAgc2l6ZTogNCxcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaWwnLFxuICAgICAgY29sb3I6IHRydWUsXG4gICAgICBub2lzZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksXG4gICAgICB3aWR0aDogMTUwLFxuICAgICAgaGVpZ2h0OiA1MCxcbiAgICB9KVxuICAgIC8vIGNvbnNvbGUubG9nKG5ld0NhcHRjYSlcbiAgICAvL+WwhuWPluWIsOeahHNpZOWAvOWtmOWFpXJlZGlz5Lit5bm26K6+572u6L+H5pyf5pe26Ze0XG4gICAgc2V0VmFsdWUoc2lkLCBuZXdDYXB0Y2EudGV4dCwgNjAwMClcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IG5ld0NhcHRjYS5kYXRhLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "PublicController.js"
      ],
      "names": [
        "PublicController",
        "constructor",
        "getCaptcha",
        "ctx",
        "sid",
        "request",
        "query",
        "newCaptca",
        "svgCaptcha",
        "create",
        "size",
        "ignoreChars",
        "color",
        "noise",
        "Math",
        "floor",
        "random",
        "width",
        "height",
        "text",
        "body",
        "code",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAGA,MAAMA,gBAAN,CAAuB;AACrBC,EAAAA,WAAW,GAAG,CAAE;;AAChB,QAAMC,UAAN,CAAiBC,GAAjB,EAAsB;AACpB,UAAM;AAAEC,MAAAA;AAAF,QAAUD,GAAG,CAACE,OAAJ,CAAYC,KAA5B;;AACA,UAAMC,SAAS,GAAGC,oBAAWC,MAAX,CAAkB;AAClCC,MAAAA,IAAI,EAAE,CAD4B;AAElCC,MAAAA,WAAW,EAAE,OAFqB;AAGlCC,MAAAA,KAAK,EAAE,IAH2B;AAIlCC,MAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAJ2B;AAKlCC,MAAAA,KAAK,EAAE,GAL2B;AAMlCC,MAAAA,MAAM,EAAE;AAN0B,KAAlB,CAAlB,CAFoB,CAUpB;AACA;;;AACA,gCAASd,GAAT,EAAcG,SAAS,CAACY,IAAxB,EAA8B,IAA9B;AACAhB,IAAAA,GAAG,CAACiB,IAAJ,GAAW;AACTC,MAAAA,IAAI,EAAE,GADG;AAETC,MAAAA,IAAI,EAAEf,SAAS,CAACe;AAFP,KAAX;AAID;;AAnBoB;;eAsBR,IAAItB,gBAAJ,E",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "sourcesContent": [
        "import svgCaptcha from 'svg-captcha'\nimport {getValue, setValue} from '../config/redisConnect'\n\n\nclass PublicController {\n  constructor() {}\n  async getCaptcha(ctx) {\n    const { sid } = ctx.request.query;\n    const newCaptca = svgCaptcha.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 50,\n    })\n    // console.log(newCaptca)\n    //将取到的sid值存入redis中并设置过期时间\n    setValue(sid, newCaptca.text, 6000)\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data,\n    }\n  }\n}\n\nexport default new PublicController()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592994925122
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "redisConnect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.delValue = exports.setHValue = exports.setValue = exports.getHValue = exports.getValue = void 0;\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nvar _redis = _interopRequireDefault(require(\"redis\"));\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//使通过createClient得到的client对象的方法返回的值都是promise实例\n_bluebird.default.promisifyAll(_redis.default);\n\nconst options = {\n  host: _config.REDIS_OPS.host,\n  port: _config.REDIS_OPS.port,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error(\"The server refused the connection\");\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n};\n\nconst client = _redis.default.createClient(options);\n\nclient.on('error', err => {\n  console.log('error occurred' + err);\n});\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nexports.getValue = getValue;\n\nconst getHValue = key => {\n  return client.hgetallAsync(key, _redis.default.print);\n};\n\nexports.getHValue = getHValue;\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'object' || value === undefined || value === \"\") return;\n  client.set(key, value, _redis.default.print);\n\n  if (time) {\n    client.expire(key, time);\n  }\n};\n\nexports.setValue = setValue;\n\nconst setHValue = (key, value) => {\n  //若要保存的值非对象直接返回\n  if (Object.prototype.toString.call(value) !== '[object Object]') return;\n  Object.keys(value).forEach((item, index) => {\n    client.hsetAsync(key, item, value[item]);\n  });\n};\n\nexports.setHValue = setHValue;\n\nconst delValue = async key => {\n  try {\n    const res = await client.delAsync(key);\n\n    if (res === 1) {\n      console.log('delete success');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexports.delValue = delValue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZGlzQ29ubmVjdC5qcyJdLCJuYW1lcyI6WyJibHVlYmlyZCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwib3B0aW9ucyIsImhvc3QiLCJSRURJU19PUFMiLCJwb3J0IiwiZGV0ZWN0X2J1ZmZlcnMiLCJyZXRyeV9zdHJhdGVneSIsImVycm9yIiwiY29kZSIsIkVycm9yIiwidG90YWxfcmV0cnlfdGltZSIsImF0dGVtcHQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWluIiwiY2xpZW50IiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0VmFsdWUiLCJrZXkiLCJnZXRBc3luYyIsImdldEhWYWx1ZSIsImhnZXRhbGxBc3luYyIsInByaW50Iiwic2V0VmFsdWUiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJleHBpcmUiLCJzZXRIVmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsImhzZXRBc3luYyIsImRlbFZhbHVlIiwicmVzIiwiZGVsQXN5bmMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0FBLGtCQUFTQyxZQUFULENBQXNCQyxjQUF0Qjs7QUFHQSxNQUFNQyxPQUFPLEdBQUc7QUFDWkMsRUFBQUEsSUFBSSxFQUFFQyxrQkFBVUQsSUFESjtBQUVaRSxFQUFBQSxJQUFJLEVBQUVELGtCQUFVQyxJQUZKO0FBR1pDLEVBQUFBLGNBQWMsRUFBRSxJQUhKO0FBSVpDLEVBQUFBLGNBQWMsRUFBRSxVQUFTTCxPQUFULEVBQWtCO0FBQzlCLFFBQUlBLE9BQU8sQ0FBQ00sS0FBUixJQUFpQk4sT0FBTyxDQUFDTSxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDMUQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDRDs7QUFDRCxRQUFJUixPQUFPLENBQUNTLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzdDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0Q7O0FBQ0QsUUFBSVIsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3hCO0FBQ0EsYUFBT0MsU0FBUDtBQUNELEtBZDZCLENBZTlCOzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2IsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDRDtBQXJCUyxDQUFoQjs7QUF3QkEsTUFBTUksTUFBTSxHQUFHZixlQUFNZ0IsWUFBTixDQUFtQmYsT0FBbkIsQ0FBZjs7QUFFQWMsTUFBTSxDQUFDRSxFQUFQLENBQVUsT0FBVixFQUFvQkMsR0FBRCxJQUFTO0FBQ3hCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBbUJGLEdBQS9CO0FBQ0gsQ0FGRDs7QUFJQSxNQUFNRyxRQUFRLEdBQUlDLEdBQUQsSUFBUztBQUN0QixTQUFPUCxNQUFNLENBQUNRLFFBQVAsQ0FBZ0JELEdBQWhCLENBQVA7QUFDSCxDQUZEOzs7O0FBSUEsTUFBTUUsU0FBUyxHQUFJRixHQUFELElBQVM7QUFDdkIsU0FBT1AsTUFBTSxDQUFDVSxZQUFQLENBQW9CSCxHQUFwQixFQUF5QnRCLGVBQU0wQixLQUEvQixDQUFQO0FBQ0gsQ0FGRDs7OztBQUlBLE1BQU1DLFFBQVEsR0FBRyxDQUFDTCxHQUFELEVBQU1NLEtBQU4sRUFBYUMsSUFBYixLQUFzQjtBQUNuQyxNQUFHLE9BQU9ELEtBQVAsS0FBaUIsUUFBakIsSUFBNkJBLEtBQUssS0FBS2hCLFNBQXZDLElBQW9EZ0IsS0FBSyxLQUFLLEVBQWpFLEVBQXFFO0FBQ3JFYixFQUFBQSxNQUFNLENBQUNlLEdBQVAsQ0FBV1IsR0FBWCxFQUFnQk0sS0FBaEIsRUFBdUI1QixlQUFNMEIsS0FBN0I7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ05kLElBQUFBLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY1QsR0FBZCxFQUFtQk8sSUFBbkI7QUFDSDtBQUNKLENBTkQ7Ozs7QUFRQSxNQUFNRyxTQUFTLEdBQUcsQ0FBQ1YsR0FBRCxFQUFNTSxLQUFOLEtBQWdCO0FBQzlCO0FBQ0EsTUFBSUssTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxRQUFqQixDQUEwQkMsSUFBMUIsQ0FBK0JSLEtBQS9CLE1BQTBDLGlCQUE5QyxFQUFpRTtBQUNqRUssRUFBQUEsTUFBTSxDQUFDSSxJQUFQLENBQVlULEtBQVosRUFBbUJVLE9BQW5CLENBQTRCLENBQUNDLElBQUQsRUFBT0MsS0FBUCxLQUFpQjtBQUN6Q3pCLElBQUFBLE1BQU0sQ0FBQzBCLFNBQVAsQ0FBaUJuQixHQUFqQixFQUFzQmlCLElBQXRCLEVBQTRCWCxLQUFLLENBQUNXLElBQUQsQ0FBakM7QUFDSCxHQUZEO0FBR0gsQ0FORDs7OztBQVFBLE1BQU1HLFFBQVEsR0FBRyxNQUFPcEIsR0FBUCxJQUFlO0FBQzVCLE1BQUk7QUFDRCxVQUFNcUIsR0FBRyxHQUFHLE1BQU01QixNQUFNLENBQUM2QixRQUFQLENBQWdCdEIsR0FBaEIsQ0FBbEI7O0FBQ0EsUUFBSXFCLEdBQUcsS0FBSyxDQUFaLEVBQWU7QUFDWHhCLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0g7QUFDSCxHQUxELENBS0UsT0FBT2IsS0FBUCxFQUFjO0FBQ1pZLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYixLQUFaO0FBQ0g7QUFDSixDQVREIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBibHVlYmlyZCBmcm9tICdibHVlYmlyZCdcbmltcG9ydCByZWRpcyBmcm9tICdyZWRpcydcbmltcG9ydCB7UkVESVNfT1BTfSBmcm9tICcuL2NvbmZpZydcblxuLy/kvb/pgJrov4djcmVhdGVDbGllbnTlvpfliLDnmoRjbGllbnTlr7nosaHnmoTmlrnms5Xov5Tlm57nmoTlgLzpg73mmK9wcm9taXNl5a6e5L6LXG5ibHVlYmlyZC5wcm9taXNpZnlBbGwocmVkaXMpXG5cblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBob3N0OiBSRURJU19PUFMuaG9zdCxcbiAgICBwb3J0OiBSRURJU19PUFMucG9ydCxcbiAgICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcbiAgICByZXRyeV9zdHJhdGVneTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5lcnJvciAmJiBvcHRpb25zLmVycm9yLmNvZGUgPT09IFwiRUNPTk5SRUZVU0VEXCIpIHtcbiAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoXG4gICAgICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIlRoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50b3RhbF9yZXRyeV90aW1lID4gMTAwMCAqIDYwICogNjApIHtcbiAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3BlY2lmaWMgdGltZW91dCBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzXG4gICAgICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiUmV0cnkgdGltZSBleGhhdXN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XG4gICAgICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyB3aXRoIGJ1aWx0IGluIGVycm9yXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XG4gICAgICB9LFxufVxuXG5jb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcblxuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3Igb2NjdXJyZWQnICsgZXJyKVxufSlcblxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudC5nZXRBc3luYyhrZXkpXG59XG5cbmNvbnN0IGdldEhWYWx1ZSA9IChrZXkpID0+IHtcbiAgICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXksIHJlZGlzLnByaW50KVxufVxuXG5jb25zdCBzZXRWYWx1ZSA9IChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XG4gICAgaWYodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBcIlwiKSByZXR1cm5cbiAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUsIHJlZGlzLnByaW50KVxuICAgIGlmICh0aW1lKSB7XG4gICAgICAgIGNsaWVudC5leHBpcmUoa2V5LCB0aW1lKVxuICAgIH1cbn1cblxuY29uc3Qgc2V0SFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvL+iLpeimgeS/neWtmOeahOWAvOmdnuWvueixoeebtOaOpei/lOWbnlxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIFxuICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKCAoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY2xpZW50LmhzZXRBc3luYyhrZXksIGl0ZW0sIHZhbHVlW2l0ZW1dKTtcbiAgICB9KVxufVxuXG5jb25zdCBkZWxWYWx1ZSA9IGFzeW5jIChrZXkpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5kZWxBc3luYyhrZXkpXG4gICAgICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHN1Y2Nlc3MnKVxuICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikgICBcbiAgICB9XG59XG5cblxuZXhwb3J0IHtcbiAgICBnZXRWYWx1ZSxcbiAgICBnZXRIVmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgc2V0SFZhbHVlLFxuICAgIGRlbFZhbHVlXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "redisConnect.js"
      ],
      "names": [
        "bluebird",
        "promisifyAll",
        "redis",
        "options",
        "host",
        "REDIS_OPS",
        "port",
        "detect_buffers",
        "retry_strategy",
        "error",
        "code",
        "Error",
        "total_retry_time",
        "attempt",
        "undefined",
        "Math",
        "min",
        "client",
        "createClient",
        "on",
        "err",
        "console",
        "log",
        "getValue",
        "key",
        "getAsync",
        "getHValue",
        "hgetallAsync",
        "print",
        "setValue",
        "value",
        "time",
        "set",
        "expire",
        "setHValue",
        "Object",
        "prototype",
        "toString",
        "call",
        "keys",
        "forEach",
        "item",
        "index",
        "hsetAsync",
        "delValue",
        "res",
        "delAsync"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA;AACAA,kBAASC,YAAT,CAAsBC,cAAtB;;AAGA,MAAMC,OAAO,GAAG;AACZC,EAAAA,IAAI,EAAEC,kBAAUD,IADJ;AAEZE,EAAAA,IAAI,EAAED,kBAAUC,IAFJ;AAGZC,EAAAA,cAAc,EAAE,IAHJ;AAIZC,EAAAA,cAAc,EAAE,UAASL,OAAT,EAAkB;AAC9B,QAAIA,OAAO,CAACM,KAAR,IAAiBN,OAAO,CAACM,KAAR,CAAcC,IAAd,KAAuB,cAA5C,EAA4D;AAC1D;AACA;AACA,aAAO,IAAIC,KAAJ,CAAU,mCAAV,CAAP;AACD;;AACD,QAAIR,OAAO,CAACS,gBAAR,GAA2B,OAAO,EAAP,GAAY,EAA3C,EAA+C;AAC7C;AACA;AACA,aAAO,IAAID,KAAJ,CAAU,sBAAV,CAAP;AACD;;AACD,QAAIR,OAAO,CAACU,OAAR,GAAkB,EAAtB,EAA0B;AACxB;AACA,aAAOC,SAAP;AACD,KAd6B,CAe9B;;;AACA,WAAOC,IAAI,CAACC,GAAL,CAASb,OAAO,CAACU,OAAR,GAAkB,GAA3B,EAAgC,IAAhC,CAAP;AACD;AArBS,CAAhB;;AAwBA,MAAMI,MAAM,GAAGf,eAAMgB,YAAN,CAAmBf,OAAnB,CAAf;;AAEAc,MAAM,CAACE,EAAP,CAAU,OAAV,EAAoBC,GAAD,IAAS;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBF,GAA/B;AACH,CAFD;;AAIA,MAAMG,QAAQ,GAAIC,GAAD,IAAS;AACtB,SAAOP,MAAM,CAACQ,QAAP,CAAgBD,GAAhB,CAAP;AACH,CAFD;;;;AAIA,MAAME,SAAS,GAAIF,GAAD,IAAS;AACvB,SAAOP,MAAM,CAACU,YAAP,CAAoBH,GAApB,EAAyBtB,eAAM0B,KAA/B,CAAP;AACH,CAFD;;;;AAIA,MAAMC,QAAQ,GAAG,CAACL,GAAD,EAAMM,KAAN,EAAaC,IAAb,KAAsB;AACnC,MAAG,OAAOD,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAKhB,SAAvC,IAAoDgB,KAAK,KAAK,EAAjE,EAAqE;AACrEb,EAAAA,MAAM,CAACe,GAAP,CAAWR,GAAX,EAAgBM,KAAhB,EAAuB5B,eAAM0B,KAA7B;;AACA,MAAIG,IAAJ,EAAU;AACNd,IAAAA,MAAM,CAACgB,MAAP,CAAcT,GAAd,EAAmBO,IAAnB;AACH;AACJ,CAND;;;;AAQA,MAAMG,SAAS,GAAG,CAACV,GAAD,EAAMM,KAAN,KAAgB;AAC9B;AACA,MAAIK,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BR,KAA/B,MAA0C,iBAA9C,EAAiE;AACjEK,EAAAA,MAAM,CAACI,IAAP,CAAYT,KAAZ,EAAmBU,OAAnB,CAA4B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACzCzB,IAAAA,MAAM,CAAC0B,SAAP,CAAiBnB,GAAjB,EAAsBiB,IAAtB,EAA4BX,KAAK,CAACW,IAAD,CAAjC;AACH,GAFD;AAGH,CAND;;;;AAQA,MAAMG,QAAQ,GAAG,MAAOpB,GAAP,IAAe;AAC5B,MAAI;AACD,UAAMqB,GAAG,GAAG,MAAM5B,MAAM,CAAC6B,QAAP,CAAgBtB,GAAhB,CAAlB;;AACA,QAAIqB,GAAG,KAAK,CAAZ,EAAe;AACXxB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH;AACH,GALD,CAKE,OAAOb,KAAP,EAAc;AACZY,IAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;AACH;AACJ,CATD",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import bluebird from 'bluebird'\nimport redis from 'redis'\nimport {REDIS_OPS} from './config'\n\n//使通过createClient得到的client对象的方法返回的值都是promise实例\nbluebird.promisifyAll(redis)\n\n\nconst options = {\n    host: REDIS_OPS.host,\n    port: REDIS_OPS.port,\n    detect_buffers: true,\n    retry_strategy: function(options) {\n        if (options.error && options.error.code === \"ECONNREFUSED\") {\n          // End reconnecting on a specific error and flush all commands with\n          // a individual error\n          return new Error(\"The server refused the connection\");\n        }\n        if (options.total_retry_time > 1000 * 60 * 60) {\n          // End reconnecting after a specific timeout and flush all commands\n          // with a individual error\n          return new Error(\"Retry time exhausted\");\n        }\n        if (options.attempt > 10) {\n          // End reconnecting with built in error\n          return undefined;\n        }\n        // reconnect after\n        return Math.min(options.attempt * 100, 3000);\n      },\n}\n\nconst client = redis.createClient(options)\n\nclient.on('error', (err) => {\n    console.log('error occurred' + err)\n})\n\nconst getValue = (key) => {\n    return client.getAsync(key)\n}\n\nconst getHValue = (key) => {\n    return client.hgetallAsync(key, redis.print)\n}\n\nconst setValue = (key, value, time) => {\n    if(typeof value === 'object' || value === undefined || value === \"\") return\n    client.set(key, value, redis.print)\n    if (time) {\n        client.expire(key, time)\n    }\n}\n\nconst setHValue = (key, value) => {\n    //若要保存的值非对象直接返回\n    if (Object.prototype.toString.call(value) !== '[object Object]') return \n    Object.keys(value).forEach( (item, index) => {\n        client.hsetAsync(key, item, value[item]);\n    })\n}\n\nconst delValue = async (key) => {\n    try {\n       const res = await client.delAsync(key)\n       if (res === 1) {\n           console.log('delete success')\n       }\n    } catch (error) {\n        console.log(error)   \n    }\n}\n\n\nexport {\n    getValue,\n    getHValue,\n    setValue,\n    setHValue,\n    delValue\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592991165135
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JWT_SECRET = exports.REDIS_OPS = exports.DB_URL = void 0;\nconst DB_URL = 'mongodb://localhost:27017/testdb';\nexports.DB_URL = DB_URL;\nconst REDIS_OPS = {\n  host: \"127.0.0.1\",\n  port: \"6379\"\n};\nexports.REDIS_OPS = REDIS_OPS;\nconst JWT_SECRET = 'CYWILL';\nexports.JWT_SECRET = JWT_SECRET;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJEQl9VUkwiLCJSRURJU19PUFMiLCJob3N0IiwicG9ydCIsIkpXVF9TRUNSRVQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLE1BQU0sR0FBRyxrQ0FBZjs7QUFDQSxNQUFNQyxTQUFTLEdBQUc7QUFDZEMsRUFBQUEsSUFBSSxFQUFFLFdBRFE7QUFFZEMsRUFBQUEsSUFBSSxFQUFFO0FBRlEsQ0FBbEI7O0FBSUEsTUFBTUMsVUFBVSxHQUFHLFFBQW5CIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERCX1VSTCA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3Rlc3RkYidcbmNvbnN0IFJFRElTX09QUyA9IHtcbiAgICBob3N0OiBcIjEyNy4wLjAuMVwiLFxuICAgIHBvcnQ6IFwiNjM3OVwiXG59XG5jb25zdCBKV1RfU0VDUkVUID0gJ0NZV0lMTCdcblxuXG5cblxuZXhwb3J0IHtcbiAgICBEQl9VUkwsXG4gICAgUkVESVNfT1BTLFxuICAgIEpXVF9TRUNSRVRcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "DB_URL",
        "REDIS_OPS",
        "host",
        "port",
        "JWT_SECRET"
      ],
      "mappings": ";;;;;;AAAA,MAAMA,MAAM,GAAG,kCAAf;;AACA,MAAMC,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE,WADQ;AAEdC,EAAAA,IAAI,EAAE;AAFQ,CAAlB;;AAIA,MAAMC,UAAU,GAAG,QAAnB",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "const DB_URL = 'mongodb://localhost:27017/testdb'\nconst REDIS_OPS = {\n    host: \"127.0.0.1\",\n    port: \"6379\"\n}\nconst JWT_SECRET = 'CYWILL'\n\n\n\n\nexport {\n    DB_URL,\n    REDIS_OPS,\n    JWT_SECRET\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592967376830
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "loginRoutes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _LoginController = _interopRequireDefault(require(\"../api/LoginController\"));\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = new _koaRouter.default();\nrouter.prefix('/login');\nrouter.post('/forget', _LoginController.default.forget);\nrouter.post('/login', _LoginController.default.login);\nrouter.post('/test', _LoginController.default.test);\nrouter.post('/reg', _LoginController.default.reg);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luUm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJMb2dpbkNvbnRyb2xsZXIiLCJmb3JnZXQiLCJsb2dpbiIsInRlc3QiLCJyZWciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxrQkFBSixFQUFmO0FBR0FELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQ7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMseUJBQWdCQyxNQUF2QztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyx5QkFBZ0JFLEtBQXRDO0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE9BQVosRUFBcUJDLHlCQUFnQkcsSUFBckM7QUFDQVAsTUFBTSxDQUFDRyxJQUFQLENBQVksTUFBWixFQUFvQkMseUJBQWdCSSxHQUFwQztlQUVlUixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dpbkNvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL0xvZ2luQ29udHJvbGxlcidcbmltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5cbnJvdXRlci5wcmVmaXgoJy9sb2dpbicpXG5yb3V0ZXIucG9zdCgnL2ZvcmdldCcsIExvZ2luQ29udHJvbGxlci5mb3JnZXQpXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgTG9naW5Db250cm9sbGVyLmxvZ2luKVxucm91dGVyLnBvc3QoJy90ZXN0JywgTG9naW5Db250cm9sbGVyLnRlc3QpXG5yb3V0ZXIucG9zdCgnL3JlZycsIExvZ2luQ29udHJvbGxlci5yZWcpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "loginRoutes.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "post",
        "LoginController",
        "forget",
        "login",
        "test",
        "reg"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;AAGAD,MAAM,CAACE,MAAP,CAAc,QAAd;AACAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,yBAAgBC,MAAvC;AACAL,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBC,yBAAgBE,KAAtC;AACAN,MAAM,CAACG,IAAP,CAAY,OAAZ,EAAqBC,yBAAgBG,IAArC;AACAP,MAAM,CAACG,IAAP,CAAY,MAAZ,EAAoBC,yBAAgBI,GAApC;eAEeR,M",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import LoginController from '../api/LoginController'\nimport Router from 'koa-router'\nconst router = new Router()\n\n\nrouter.prefix('/login')\nrouter.post('/forget', LoginController.forget)\nrouter.post('/login', LoginController.login)\nrouter.post('/test', LoginController.test)\nrouter.post('/reg', LoginController.reg)\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1593072998830
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
        "sourceFileName": "LoginController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _MailConfig = _interopRequireDefault(require(\"../config/MailConfig\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = require(\"../config/config\");\n\nvar _koaJson = _interopRequireDefault(require(\"koa-json\"));\n\nvar _utils = require(\"../common/utils\");\n\nvar _Users = _interopRequireDefault(require(\"../model/Users\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    //在发送邮件前应检查邮件名在数据库中是否存在以及发送过来的验证码是否正确\n    const {\n      body: {\n        username,\n        code\n      }\n    } = ctx.request;\n    console.log(ctx.request);\n    let message = '';\n\n    try {\n      console.log(username, code);\n      message = await (0, _MailConfig.default)({\n        user: 'mock',\n        expire: (0, _moment.default)().add(30, 'm').format('YYYY M D h:mm:ss'),\n        user: username,\n        to: username\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    ctx.body = {\n      code: 200,\n      message\n    };\n  }\n\n  async login(ctx) {\n    //检查验证码是否匹配及其有效性\n    //验证用户名密码是否正确\n    //返回token\n    const {\n      username,\n      password,\n      sid,\n      code\n    } = ctx.request.body; // console.log(username,password,code)\n\n    const res = await (0, _utils.checkCode)(sid, code); //验证码正确且在时效范围内时：\n\n    if (res) {\n      //从数据库中查询与用户名对应的密码，当用户名存在且密码正确时，颁发token\n      //当用户名不存在时应该进行错误处理\n      const mongoPassword = await _Users.default.findOne({\n        'username': username\n      });\n\n      if (mongoPassword.password == password) {\n        const token = _jsonwebtoken.default.sign({\n          id: 'dzz'\n        }, _config.JWT_SECRET, {\n          expiresIn: '1d'\n        });\n\n        ctx.body = {\n          code: 200,\n          token\n        };\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '密码错误'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '验证码错误'\n      };\n    }\n  }\n\n  async reg(ctx) {\n    const msg = {}; //用来返回错误的对象，数据结构需要与veevalidate规定的一致\n\n    const {\n      code,\n      nickname,\n      password,\n      email,\n      sid\n    } = ctx.request.body; //1.接收前端发送的数据\n    //2.检查验证码是否正确及有效期\n    //3.检查emai是否已存在\n    //4.检查nickname是否已存在\n    //5.若都不存在则进行注册并返回200\n    //6.返回msg对象\n    //2.\n\n    const res = await (0, _utils.checkCode)(sid, code);\n    let exist = false; //验证码正确且在时效范围内时：\n\n    if (res) {\n      //3.\n      const mongoUsername = await _Users.default.findOne({\n        'username': email\n      });\n\n      if (mongoUsername) {\n        msg.email = ['邮箱已注册！'];\n        exist = true;\n      } //4.\n\n\n      const mongoNickName = await _Users.default.findOne({\n        'nickname': nickname\n      });\n\n      if (mongoNickName) {\n        msg.nickname = ['昵称已存在！'];\n        exist = true;\n      } //5.\n\n\n      if (!exist) {\n        const users = new _Users.default({\n          username: email,\n          nickname,\n          password\n        }); //进行存储操作\n\n        const mongoRes = await users.save();\n        ctx.body = {\n          code: 200,\n          msg: '注册成功!',\n          data: mongoRes\n        };\n        return; //当昵称和用户名均有效时，不执行118行内容，否则执行\n      }\n    } else {\n      msg.code = ['验证码错误'];\n      ctx.body = {\n        code: 401,\n        msg\n      };\n    }\n\n    ctx.body = {\n      code: 500,\n      msg\n    };\n  }\n\n  async test(ctx) {\n    const {\n      username\n    } = ctx.request.body;\n    console.log(username);\n    console.log(ctx.request.body);\n  }\n\n}\n\nvar _default = new LoginController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJMb2dpbkNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImZvcmdldCIsImN0eCIsImJvZHkiLCJ1c2VybmFtZSIsImNvZGUiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJ1c2VyIiwiZXhwaXJlIiwiYWRkIiwiZm9ybWF0IiwidG8iLCJlcnIiLCJsb2dpbiIsInBhc3N3b3JkIiwic2lkIiwicmVzIiwibW9uZ29QYXNzd29yZCIsIlVzZXJzIiwiZmluZE9uZSIsInRva2VuIiwianNvbndlYnRva2VuIiwic2lnbiIsImlkIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIm1zZyIsInJlZyIsIm5pY2tuYW1lIiwiZW1haWwiLCJleGlzdCIsIm1vbmdvVXNlcm5hbWUiLCJtb25nb05pY2tOYW1lIiwidXNlcnMiLCJtb25nb1JlcyIsInNhdmUiLCJkYXRhIiwidGVzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR0EsTUFBTUEsZUFBTixDQUFzQjtBQUNsQkMsRUFBQUEsV0FBVyxHQUFHLENBRWI7O0FBRUQsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCO0FBRWQ7QUFDQSxVQUFNO0FBQUNDLE1BQUFBLElBQUksRUFBRTtBQUFDQyxRQUFBQSxRQUFEO0FBQVdDLFFBQUFBO0FBQVg7QUFBUCxRQUEyQkgsR0FBRyxDQUFDSSxPQUFyQztBQUNBQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWU4sR0FBRyxDQUFDSSxPQUFoQjtBQUNBLFFBQUlHLE9BQU8sR0FBRyxFQUFkOztBQUNBLFFBQUc7QUFDQ0YsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLFFBQVosRUFBc0JDLElBQXRCO0FBQ0FJLE1BQUFBLE9BQU8sR0FBRyxNQUFNLHlCQUFLO0FBQ2pCQyxRQUFBQSxJQUFJLEVBQUUsTUFEVztBQUVqQkMsUUFB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O2VBMkhQLElBQUlKLGVBQUosRSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZGluZ3poaXlhby9EZXNrdG9wL+Wkp+WJjeerry9rb2Evc3JjL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VuZCBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuaW1wb3J0IGpzb253ZWJ0b2tlbiBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQge0pXVF9TRUNSRVR9IGZyb20gJy4uL2NvbmZpZy9jb25maWcnXG5pbXBvcnQganNvbiBmcm9tICdrb2EtanNvbic7XG5pbXBvcnQge2NoZWNrQ29kZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJ1xuaW1wb3J0IFVzZXJzIGZyb20gJy4uL21vZGVsL1VzZXJzJ1xuXG5cbmNsYXNzIExvZ2luQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBmb3JnZXQoY3R4KSB7XG5cbiAgICAgICAgLy/lnKjlj5HpgIHpgq7ku7bliY3lupTmo4Dmn6Xpgq7ku7blkI3lnKjmlbDmja7lupPkuK3mmK/lkKblrZjlnKjku6Xlj4rlj5HpgIHov4fmnaXnmoTpqozor4HnoIHmmK/lkKbmraPnoa5cbiAgICAgICAgY29uc3Qge2JvZHk6IHt1c2VybmFtZSwgY29kZX19ID0gY3R4LnJlcXVlc3Q7XG4gICAgICAgIGNvbnNvbGUubG9nKGN0eC5yZXF1ZXN0KVxuICAgICAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSwgY29kZSlcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBhd2FpdCBzZW5kKHtcbiAgICAgICAgICAgICAgICB1c2VyOiAnbW9jaycsXG4gICAgICAgICAgICAgICAgZXhwaXJlOiBtb21lbnQoKS5hZGQoMzAsICdtJykuZm9ybWF0KCdZWVlZIE0gRCBoOm1tOnNzJyksXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgdG86IHVzZXJuYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBsb2dpbihjdHgpIHtcbiAgICAgICAgLy/mo4Dmn6Xpqozor4HnoIHmmK/lkKbljLnphY3lj4rlhbbmnInmlYjmgKdcbiAgICAgICAgLy/pqozor4HnlKjmiLflkI3lr4bnoIHmmK/lkKbmraPnoa5cbiAgICAgICAgLy/ov5Tlm550b2tlblxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkLCBzaWQsIGNvZGV9ID0gY3R4LnJlcXVlc3QuYm9keTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codXNlcm5hbWUscGFzc3dvcmQsY29kZSlcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSk7XG4gICAgICAgIC8v6aqM6K+B56CB5q2j56Gu5LiU5Zyo5pe25pWI6IyD5Zu05YaF5pe277yaXG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgIC8v5LuO5pWw5o2u5bqT5Lit5p+l6K+i5LiO55So5oi35ZCN5a+55bqU55qE5a+G56CB77yM5b2T55So5oi35ZCN5a2Y5Zyo5LiU5a+G56CB5q2j56Gu5pe277yM6aKB5Y+RdG9rZW5cbiAgICAgICAgICAgIC8v5b2T55So5oi35ZCN5LiN5a2Y5Zyo5pe25bqU6K+l6L+b6KGM6ZSZ6K+v5aSE55CGXG4gICAgICAgICAgICBjb25zdCBtb25nb1Bhc3N3b3JkID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7J3VzZXJuYW1lJzp1c2VybmFtZX0pO1xuICAgICAgICAgICAgaWYgKG1vbmdvUGFzc3dvcmQucGFzc3dvcmQgPT0gcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtpZDogJ2R6eid9LCBKV1RfU0VDUkVULCB7ZXhwaXJlc0luOiAnMWQnfSlcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAn5a+G56CB6ZSZ6K+vJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgICBtc2c6ICfpqozor4HnoIHplJnor68nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZWcoY3R4KSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IHt9IC8v55So5p2l6L+U5Zue6ZSZ6K+v55qE5a+56LGh77yM5pWw5o2u57uT5p6E6ZyA6KaB5LiOdmVldmFsaWRhdGXop4TlrprnmoTkuIDoh7RcbiAgICAgICAgY29uc3Qge2NvZGUsIG5pY2tuYW1lLCBwYXNzd29yZCwgZW1haWwsIHNpZH0gPSBjdHgucmVxdWVzdC5ib2R5O1xuICAgICAgICAvLzEu5o6l5pS25YmN56uv5Y+R6YCB55qE5pWw5o2uXG4gICAgICAgIC8vMi7mo4Dmn6Xpqozor4HnoIHmmK/lkKbmraPnoa7lj4rmnInmlYjmnJ9cbiAgICAgICAgLy8zLuajgOafpWVtYWnmmK/lkKblt7LlrZjlnKhcbiAgICAgICAgLy80LuajgOafpW5pY2tuYW1l5piv5ZCm5bey5a2Y5ZyoXG4gICAgICAgIC8vNS7oi6Xpg73kuI3lrZjlnKjliJnov5vooYzms6jlhozlubbov5Tlm54yMDBcbiAgICAgICAgLy82Lui/lOWbnm1zZ+WvueixoVxuXG4gICAgICAgIC8vMi5cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSk7XG4gICAgICAgIGxldCBleGlzdCA9IGZhbHNlO1xuICAgICAgICAvL+mqjOivgeeggeato+ehruS4lOWcqOaXtuaViOiMg+WbtOWGheaXtu+8mlxuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAvLzMuXG4gICAgICAgICAgICBjb25zdCBtb25nb1VzZXJuYW1lID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7J3VzZXJuYW1lJzplbWFpbH0pO1xuICAgICAgICAgICAgaWYgKG1vbmdvVXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICBtc2cuZW1haWwgPSBbJ+mCrueuseW3suazqOWGjO+8gSddXG4gICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIC8vNC5cbiAgICAgICAgICAgIGNvbnN0IG1vbmdvTmlja05hbWUgPSBhd2FpdCBVc2Vycy5maW5kT25lKHsnbmlja25hbWUnOiBuaWNrbmFtZX0pXG4gICAgICAgICAgICBpZiAobW9uZ29OaWNrTmFtZSkge1xuICAgICAgICAgICAgICAgIG1zZy5uaWNrbmFtZSA9IFsn5pi156ew5bey5a2Y5Zyo77yBJ11cbiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLzUuXG4gICAgICAgICAgICBpZiAoIWV4aXN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBuZXcgVXNlcnMoe1xuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy/ov5vooYzlrZjlgqjmk43kvZxcbiAgICAgICAgICAgICAgICBjb25zdCBtb25nb1JlcyA9IGF3YWl0IHVzZXJzLnNhdmUoKVxuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ+azqOWGjOaIkOWKnyEnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBtb25nb1Jlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLy/lvZPmmLXnp7DlkoznlKjmiLflkI3lnYfmnInmlYjml7bvvIzkuI3miafooYwxMTjooYzlhoXlrrnvvIzlkKbliJnmiafooYxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZy5jb2RlID0gWyfpqozor4HnoIHplJnor68nXVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNDAxLFxuICAgICAgICAgICAgICAgIG1zZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgbXNnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB0ZXN0KGN0eCkge1xuICAgICAgICBjb25zdCB7dXNlcm5hbWV9ID0gY3R4LnJlcXVlc3QuYm9keVxuICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSlcbiAgICAgICAgY29uc29sZS5sb2coY3R4LnJlcXVlc3QuYm9keSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "LoginController.js"
      ],
      "names": [
        "LoginController",
        "constructor",
        "forget",
        "ctx",
        "body",
        "username",
        "code",
        "request",
        "console",
        "log",
        "message",
        "user",
        "expire",
        "add",
        "format",
        "to",
        "err",
        "login",
        "password",
        "sid",
        "res",
        "mongoPassword",
        "Users",
        "findOne",
        "token",
        "jsonwebtoken",
        "sign",
        "id",
        "JWT_SECRET",
        "expiresIn",
        "msg",
        "reg",
        "nickname",
        "email",
        "exist",
        "mongoUsername",
        "mongoNickName",
        "users",
        "mongoRes",
        "save",
        "data",
        "test"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "sourcesContent": [
        "import send from '../config/MailConfig'\nimport moment from 'moment'\nimport jsonwebtoken from 'jsonwebtoken'\nimport {JWT_SECRET} from '../config/config'\nimport json from 'koa-json';\nimport {checkCode} from '../common/utils'\nimport Users from '../model/Users'\n\n\nclass LoginController {\n    constructor() {\n\n    }\n\n    async forget(ctx) {\n\n        //在发送邮件前应检查邮件名在数据库中是否存在以及发送过来的验证码是否正确\n        const {body: {username, code}} = ctx.request;\n        console.log(ctx.request)\n        let message = '';\n        try{\n            console.log(username, code)\n            message = await send({\n                user: 'mock',\n                expire: moment().add(30, 'm').format('YYYY M D h:mm:ss'),\n                user: username,\n                to: username\n            })\n        } catch (err) {\n            console.log(err);\n        }\n        ctx.body = {\n            code: 200,\n            message\n        }\n    }\n\n    async login(ctx) {\n        //检查验证码是否匹配及其有效性\n        //验证用户名密码是否正确\n        //返回token\n        const {username, password, sid, code} = ctx.request.body;\n        // console.log(username,password,code)\n        const res = await checkCode(sid, code);\n        //验证码正确且在时效范围内时：\n        if (res) {\n            //从数据库中查询与用户名对应的密码，当用户名存在且密码正确时，颁发token\n            //当用户名不存在时应该进行错误处理\n            const mongoPassword = await Users.findOne({'username':username});\n            if (mongoPassword.password == password) {\n                const token = jsonwebtoken.sign({id: 'dzz'}, JWT_SECRET, {expiresIn: '1d'})\n                ctx.body = {\n                    code: 200,\n                    token\n                }\n            } else {\n                ctx.body = {\n                    code: 401,\n                    msg: '密码错误'\n                }\n            }\n        } else {\n            ctx.body = {\n                code: 401,\n                msg: '验证码错误'\n            }\n        }\n    }\n\n    async reg(ctx) {\n        const msg = {} //用来返回错误的对象，数据结构需要与veevalidate规定的一致\n        const {code, nickname, password, email, sid} = ctx.request.body;\n        //1.接收前端发送的数据\n        //2.检查验证码是否正确及有效期\n        //3.检查emai是否已存在\n        //4.检查nickname是否已存在\n        //5.若都不存在则进行注册并返回200\n        //6.返回msg对象\n\n        //2.\n        const res = await checkCode(sid, code);\n        let exist = false;\n        //验证码正确且在时效范围内时：\n        if (res) {\n            //3.\n            const mongoUsername = await Users.findOne({'username':email});\n            if (mongoUsername) {\n                msg.email = ['邮箱已注册！']\n                exist = true;\n            } \n            //4.\n            const mongoNickName = await Users.findOne({'nickname': nickname})\n            if (mongoNickName) {\n                msg.nickname = ['昵称已存在！']\n                exist = true;\n            }\n            //5.\n            if (!exist) {\n                const users = new Users({\n                    username: email,\n                    nickname,\n                    password\n                })\n                //进行存储操作\n                const mongoRes = await users.save()\n                ctx.body = {\n                    code: 200,\n                    msg: '注册成功!',\n                    data: mongoRes\n                }\n                return //当昵称和用户名均有效时，不执行118行内容，否则执行\n            }\n        } else {\n            msg.code = ['验证码错误']\n            ctx.body = {\n                code: 401,\n                msg\n            }\n        }\n        ctx.body = {\n            code: 500,\n            msg\n        }\n    }\n\n    async test(ctx) {\n        const {username} = ctx.request.body\n        console.log(username)\n        console.log(ctx.request.body)\n    }\n}\n\nexport default new LoginController()"
      ]
    },
    "sourceType": "script",
    "mtime": 1593080806669
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "MailConfig.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// async..await is not allowed in global scope, must use a wrapper\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  //   let testAccount = await nodemailer.createTestAccount();\n  // create reusable transporter object using the default SMTP transport\n  let transporter = _nodemailer.default.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: \"1005739128@qq.com\",\n      // generated ethereal user\n      pass: \"gmlndvnaqldrbbie\" // generated ethereal password\n\n    }\n  }); //   const sendInfo = {\n  //     user: \"\",\n  //     to: \"1005739128@qq.com\",\n  //     expire: '2020-7-1'\n  //   };\n\n\n  const url = \"https://baidu.com\"; // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: \" test <1005739128@qq.com>\",\n    // sender address\n    to: sendInfo.to,\n    // list of receivers\n    subject: \"找回密码\",\n    // Subject line\n    text: \"no reply\",\n    // plain text body\n    html: `\n      <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">\n          Imooc社区——欢迎来到官方社区\n        </div>\n        <div style=\"padding: 25px\">\n          <div>\n            您好，${sendInfo.user}用户，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：\n          </div>\n          <a\n            href=\"${url}\"\n            style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\"\n          >\n            立即重置密码\n          </a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">\n            如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。\n          </div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">\n          系统邮件，请勿直接回复\n        </div>\n      </div>\n    ` // html body\n\n  });\n  return '邮件发送成功'; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n}\n\nvar _default = send;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1haWxDb25maWcuanMiXSwibmFtZXMiOlsic2VuZCIsInNlbmRJbmZvIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJ1cmwiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJleHBpcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBQ0EsZUFBZUEsSUFBZixDQUFvQkMsUUFBcEIsRUFBOEI7QUFDNUI7QUFDQTtBQUNBO0FBRUE7QUFDQSxNQUFJQyxXQUFXLEdBQUdDLG9CQUFXQyxlQUFYLENBQTJCO0FBQzNDQyxJQUFBQSxJQUFJLEVBQUUsYUFEcUM7QUFFM0NDLElBQUFBLElBQUksRUFBRSxHQUZxQztBQUczQ0MsSUFBQUEsTUFBTSxFQUFFLEtBSG1DO0FBRzVCO0FBQ2ZDLElBQUFBLElBQUksRUFBRTtBQUNKQyxNQUFBQSxJQUFJLEVBQUUsbUJBREY7QUFDdUI7QUFDM0JDLE1BQUFBLElBQUksRUFBRSxrQkFGRixDQUVzQjs7QUFGdEI7QUFKcUMsR0FBM0IsQ0FBbEIsQ0FONEIsQ0FnQjlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVFLFFBQU1DLEdBQUcsR0FBRyxtQkFBWixDQXRCNEIsQ0F3QjVCOztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNVixXQUFXLENBQUNXLFFBQVosQ0FBcUI7QUFDcENDLElBQUFBLElBQUksRUFBRSwyQkFEOEI7QUFDRDtBQUNuQ0MsSUFBQUEsRUFBRSxFQUFFZCxRQUFRLENBQUNjLEVBRnVCO0FBRW5CO0FBQ2pCQyxJQUFBQSxPQUFPLEVBQUUsTUFIMkI7QUFHbkI7QUFDakJDLElBQUFBLElBQUksRUFBRSxVQUo4QjtBQUlsQjtBQUNsQkMsSUFBQUEsSUFBSSxFQUFHOzs7Ozs7O2lCQU9NakIsUUFBUSxDQUFDUSxJQUFLLHFCQUFvQlIsUUFBUSxDQUFDa0IsTUFBTzs7O29CQUcvQ1IsR0FBSTs7Ozs7Ozs7Ozs7OztLQWZnQixDQTRCakM7O0FBNUJpQyxHQUFyQixDQUFqQjtBQStCQSxTQUFPLFFBQVAsQ0F4RDRCLENBeUQ1QjtBQUVEOztlQUNjWCxJIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gXCJub2RlbWFpbGVyXCI7XG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcbmFzeW5jIGZ1bmN0aW9uIHNlbmQoc2VuZEluZm8pIHtcbiAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXG4gIC8vIE9ubHkgbmVlZGVkIGlmIHlvdSBkb24ndCBoYXZlIGEgcmVhbCBtYWlsIGFjY291bnQgZm9yIHRlc3RpbmdcbiAgLy8gICBsZXQgdGVzdEFjY291bnQgPSBhd2FpdCBub2RlbWFpbGVyLmNyZWF0ZVRlc3RBY2NvdW50KCk7XG5cbiAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxuICBsZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgaG9zdDogXCJzbXRwLnFxLmNvbVwiLFxuICAgIHBvcnQ6IDU4NyxcbiAgICBzZWN1cmU6IGZhbHNlLCAvLyB0cnVlIGZvciA0NjUsIGZhbHNlIGZvciBvdGhlciBwb3J0c1xuICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6IFwiMTAwNTczOTEyOEBxcS5jb21cIiwgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHVzZXJcbiAgICAgIHBhc3M6IFwiZ21sbmR2bmFxbGRyYmJpZVwiLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgcGFzc3dvcmRcbiAgICB9LFxuICB9KTtcblxuLy8gICBjb25zdCBzZW5kSW5mbyA9IHtcbi8vICAgICB1c2VyOiBcIlwiLFxuLy8gICAgIHRvOiBcIjEwMDU3MzkxMjhAcXEuY29tXCIsXG4vLyAgICAgZXhwaXJlOiAnMjAyMC03LTEnXG4vLyAgIH07XG5cbiAgY29uc3QgdXJsID0gXCJodHRwczovL2JhaWR1LmNvbVwiO1xuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBsZXQgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICBmcm9tOiBcIiB0ZXN0IDwxMDA1NzM5MTI4QHFxLmNvbT5cIiwgLy8gc2VuZGVyIGFkZHJlc3NcbiAgICB0bzogc2VuZEluZm8udG8sIC8vIGxpc3Qgb2YgcmVjZWl2ZXJzXG4gICAgc3ViamVjdDogXCLmib7lm57lr4bnoIFcIiwgLy8gU3ViamVjdCBsaW5lXG4gICAgdGV4dDogXCJubyByZXBseVwiLCAvLyBwbGFpbiB0ZXh0IGJvZHlcbiAgICBodG1sOiBgXG4gICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RjZGNkYztjb2xvcjogIzY3Njc2Nzt3aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNTBweDtwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7IGJhY2tncm91bmQ6ICMzOTNkNDk7IGxpbmUtaGVpZ2h0OiA2MHB4OyBjb2xvcjogIzU4YTM2ZjsgZm9udC1zaXplOiAxOHB4O3BhZGRpbmctbGVmdDogMTBweDtcIj5cbiAgICAgICAgICBJbW9vY+ekvuWMuuKAlOKAlOasoui/juadpeWIsOWumOaWueekvuWMulxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDI1cHhcIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAg5oKo5aW977yMJHtzZW5kSW5mby51c2VyfeeUqOaIt++8jOmHjee9rumTvuaOpeacieaViOaXtumXtDMw5YiG6ZKf77yM6K+35ZyoJHtzZW5kSW5mby5leHBpcmV95LmL5YmN6YeN572u5oKo55qE5a+G56CB77yaXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGhyZWY9XCIke3VybH1cIlxuICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDIwcHg7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjMDA5ZTk0OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7bWFyZ2luOiAxNXB4IDA7XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDnq4vljbPph43nva7lr4bnoIFcbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDVweDsgYmFja2dyb3VuZDogI2YyZjJmMjtcIj5cbiAgICAgICAgICAgIOWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAglxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmYWZhZmE7IGNvbG9yOiAjYjRiNGI0O3RleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDQ1cHg7IGhlaWdodDogNDVweDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyBib3R0b206IDA7d2lkdGg6IDEwMCU7XCI+XG4gICAgICAgICAg57O757uf6YKu5Lu277yM6K+35Yu/55u05o6l5Zue5aSNXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCwgLy8gaHRtbCBib2R5XG4gIH0pO1xuXG4gIHJldHVybiAn6YKu5Lu25Y+R6YCB5oiQ5YqfJ1xuICAvLyBNZXNzYWdlIHNlbnQ6IDxiNjU4ZjhjYS02Mjk2LWNjZjQtODMwNi04N2Q1N2EwYjQzMjFAZXhhbXBsZS5jb20+XG5cbn1cbmV4cG9ydCBkZWZhdWx0IHNlbmQ7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "MailConfig.js"
      ],
      "names": [
        "send",
        "sendInfo",
        "transporter",
        "nodemailer",
        "createTransport",
        "host",
        "port",
        "secure",
        "auth",
        "user",
        "pass",
        "url",
        "info",
        "sendMail",
        "from",
        "to",
        "subject",
        "text",
        "html",
        "expire"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,eAAeA,IAAf,CAAoBC,QAApB,EAA8B;AAC5B;AACA;AACA;AAEA;AACA,MAAIC,WAAW,GAAGC,oBAAWC,eAAX,CAA2B;AAC3CC,IAAAA,IAAI,EAAE,aADqC;AAE3CC,IAAAA,IAAI,EAAE,GAFqC;AAG3CC,IAAAA,MAAM,EAAE,KAHmC;AAG5B;AACfC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,mBADF;AACuB;AAC3BC,MAAAA,IAAI,EAAE,kBAFF,CAEsB;;AAFtB;AAJqC,GAA3B,CAAlB,CAN4B,CAgB9B;AACA;AACA;AACA;AACA;;;AAEE,QAAMC,GAAG,GAAG,mBAAZ,CAtB4B,CAwB5B;;AACA,MAAIC,IAAI,GAAG,MAAMV,WAAW,CAACW,QAAZ,CAAqB;AACpCC,IAAAA,IAAI,EAAE,2BAD8B;AACD;AACnCC,IAAAA,EAAE,EAAEd,QAAQ,CAACc,EAFuB;AAEnB;AACjBC,IAAAA,OAAO,EAAE,MAH2B;AAGnB;AACjBC,IAAAA,IAAI,EAAE,UAJ8B;AAIlB;AAClBC,IAAAA,IAAI,EAAG;;;;;;;iBAOMjB,QAAQ,CAACQ,IAAK,qBAAoBR,QAAQ,CAACkB,MAAO;;;oBAG/CR,GAAI;;;;;;;;;;;;;KAfgB,CA4BjC;;AA5BiC,GAArB,CAAjB;AA+BA,SAAO,QAAP,CAxD4B,CAyD5B;AAED;;eACcX,I",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import nodemailer from \"nodemailer\";\n// async..await is not allowed in global scope, must use a wrapper\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  //   let testAccount = await nodemailer.createTestAccount();\n\n  // create reusable transporter object using the default SMTP transport\n  let transporter = nodemailer.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false, // true for 465, false for other ports\n    auth: {\n      user: \"1005739128@qq.com\", // generated ethereal user\n      pass: \"gmlndvnaqldrbbie\", // generated ethereal password\n    },\n  });\n\n//   const sendInfo = {\n//     user: \"\",\n//     to: \"1005739128@qq.com\",\n//     expire: '2020-7-1'\n//   };\n\n  const url = \"https://baidu.com\";\n\n  // send mail with defined transport object\n  let info = await transporter.sendMail({\n    from: \" test <1005739128@qq.com>\", // sender address\n    to: sendInfo.to, // list of receivers\n    subject: \"找回密码\", // Subject line\n    text: \"no reply\", // plain text body\n    html: `\n      <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">\n          Imooc社区——欢迎来到官方社区\n        </div>\n        <div style=\"padding: 25px\">\n          <div>\n            您好，${sendInfo.user}用户，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：\n          </div>\n          <a\n            href=\"${url}\"\n            style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\"\n          >\n            立即重置密码\n          </a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">\n            如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。\n          </div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">\n          系统邮件，请勿直接回复\n        </div>\n      </div>\n    `, // html body\n  });\n\n  return '邮件发送成功'\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n\n}\nexport default send;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592380930715
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkCode = void 0;\n\nvar _redisConnect = require(\"../config/redisConnect\");\n\n//检查前端传递的验证码与redis中存储的验证码信息是否吻合\nconst checkCode = async (sid, code) => {\n  const res = await (0, _redisConnect.getValue)(sid);\n\n  if (res.toLowerCase() === code.toLowerCase()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexports.checkCode = checkCode;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImNoZWNrQ29kZSIsInNpZCIsImNvZGUiLCJyZXMiLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBO0FBQ08sTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsSUFBWixLQUFxQjtBQUMxQyxRQUFNQyxHQUFHLEdBQUcsTUFBTSw0QkFBU0YsR0FBVCxDQUFsQjs7QUFDQSxNQUFJRSxHQUFHLENBQUNDLFdBQUosT0FBc0JGLElBQUksQ0FBQ0UsV0FBTCxFQUExQixFQUE4QztBQUMxQyxXQUFPLElBQVA7QUFDSCxHQUZELE1BRU87QUFDSCxXQUFPLEtBQVA7QUFDSDtBQUNKLENBUE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9jb21tb24vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnZXRWYWx1ZX0gZnJvbSAnLi4vY29uZmlnL3JlZGlzQ29ubmVjdCdcblxuLy/mo4Dmn6XliY3nq6/kvKDpgJLnmoTpqozor4HnoIHkuI5yZWRpc+S4reWtmOWCqOeahOmqjOivgeeggeS/oeaBr+aYr+WQpuWQu+WQiFxuZXhwb3J0IGNvbnN0IGNoZWNrQ29kZSA9IGFzeW5jIChzaWQsIGNvZGUpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRWYWx1ZShzaWQpXG4gICAgaWYgKHJlcy50b0xvd2VyQ2FzZSgpID09PSBjb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "checkCode",
        "sid",
        "code",
        "res",
        "toLowerCase"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;AACO,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAC1C,QAAMC,GAAG,GAAG,MAAM,4BAASF,GAAT,CAAlB;;AACA,MAAIE,GAAG,CAACC,WAAJ,OAAsBF,IAAI,CAACE,WAAL,EAA1B,EAA8C;AAC1C,WAAO,IAAP;AACH,GAFD,MAEO;AACH,WAAO,KAAP;AACH;AACJ,CAPM",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "sourcesContent": [
        "import {getValue} from '../config/redisConnect'\n\n//检查前端传递的验证码与redis中存储的验证码信息是否吻合\nexport const checkCode = async (sid, code) => {\n    const res = await getValue(sid)\n    if (res.toLowerCase() === code.toLowerCase()) {\n        return true\n    } else {\n        return false;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592998622319
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/model/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
        "sourceFileName": "Users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoConnect = _interopRequireDefault(require(\"../config/mongoConnect\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// const mongoose = require('../config/mongoConnect')\n//在model文件夹中完成连接mongodb中对应collection的任务\nconst Schema = _mongoConnect.default.Schema;\nconst userSchema = new Schema({\n  username: String,\n  password: String,\n  nickname: String\n}); //通过model()方法连接collection，并生成了Model类，实例化model可得到model的实例即document，同时完成了对mongodb\n//数据库中对应collection的操作\n\nconst Users = _mongoConnect.default.model('users', userSchema);\n\nvar _default = Users; // module.exports = Users;\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwidXNlclNjaGVtYSIsInVzZXJuYW1lIiwiU3RyaW5nIiwicGFzc3dvcmQiLCJuaWNrbmFtZSIsIlVzZXJzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBRUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHNCQUFTRCxNQUF4QjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDMUJHLEVBQUFBLFFBQVEsRUFBRUMsTUFEZ0I7QUFFMUJDLEVBQUFBLFFBQVEsRUFBRUQsTUFGZ0I7QUFHMUJFLEVBQUFBLFFBQVEsRUFBRUY7QUFIZ0IsQ0FBWCxDQUFuQixDLENBTUE7QUFDQTs7QUFDQSxNQUFNRyxLQUFLLEdBQUdOLHNCQUFTTyxLQUFULENBQWUsT0FBZixFQUF3Qk4sVUFBeEIsQ0FBZDs7ZUFLZUssSyxFQUNmIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvbW9kZWwvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9tb25nb0Nvbm5lY3QnXG4vLyBjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJy4uL2NvbmZpZy9tb25nb0Nvbm5lY3QnKVxuXG4vL+WcqG1vZGVs5paH5Lu25aS55Lit5a6M5oiQ6L+e5o6lbW9uZ29kYuS4reWvueW6lGNvbGxlY3Rpb27nmoTku7vliqFcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdXNlcm5hbWU6IFN0cmluZyxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIG5pY2tuYW1lOiBTdHJpbmdcbn0pXG5cbi8v6YCa6L+HbW9kZWwoKeaWueazlei/nuaOpWNvbGxlY3Rpb27vvIzlubbnlJ/miJDkuoZNb2RlbOexu++8jOWunuS+i+WMlm1vZGVs5Y+v5b6X5YiwbW9kZWznmoTlrp7kvovljbNkb2N1bWVudO+8jOWQjOaXtuWujOaIkOS6huWvuW1vbmdvZGJcbi8v5pWw5o2u5bqT5Lit5a+55bqUY29sbGVjdGlvbueahOaTjeS9nFxuY29uc3QgVXNlcnMgPSBtb25nb29zZS5tb2RlbCgndXNlcnMnLCB1c2VyU2NoZW1hKTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG4vLyBtb2R1bGUuZXhwb3J0cyA9IFVzZXJzOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Users.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "userSchema",
        "username",
        "String",
        "password",
        "nickname",
        "Users",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AAEA;AAEA,MAAMA,MAAM,GAAGC,sBAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;AAC1BG,EAAAA,QAAQ,EAAEC,MADgB;AAE1BC,EAAAA,QAAQ,EAAED,MAFgB;AAG1BE,EAAAA,QAAQ,EAAEF;AAHgB,CAAX,CAAnB,C,CAMA;AACA;;AACA,MAAMG,KAAK,GAAGN,sBAASO,KAAT,CAAe,OAAf,EAAwBN,UAAxB,CAAd;;eAKeK,K,EACf",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
      "sourcesContent": [
        "import mongoose from '../config/mongoConnect'\n// const mongoose = require('../config/mongoConnect')\n\n//在model文件夹中完成连接mongodb中对应collection的任务\n\nconst Schema = mongoose.Schema;\n\nconst userSchema = new Schema({\n    username: String,\n    password: String,\n    nickname: String\n})\n\n//通过model()方法连接collection，并生成了Model类，实例化model可得到model的实例即document，同时完成了对mongodb\n//数据库中对应collection的操作\nconst Users = mongoose.model('users', userSchema);\n\n\n\n\nexport default Users;\n// module.exports = Users;"
      ]
    },
    "sourceType": "script",
    "mtime": 1593073846864
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "mongoConnect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// const mongoose = require('mongoose')\n// const {DB_URL} = require('./config')\n//连接到mongodb数据库\n_mongoose.default.connect(_config.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); //连接成功\n\n\n_mongoose.default.connection.on('connected', () => {\n  console.log(`connected to ${_config.DB_URL}`);\n}); //断开连接\n\n\n_mongoose.default.connection.on('disconnected', () => {\n  console.log(`disconnect from ${_config.DB_URL}`);\n}); //连接异常\n\n\n_mongoose.default.connection.on('error', error => {\n  console.log(`connect error: ${error}`);\n}); // module.exports =  mongoose\n\n\nvar _default = _mongoose.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvQ29ubmVjdC5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJEQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7OztBQURBO0FBRUE7QUFDQTtBQUNBQSxrQkFBU0MsT0FBVCxDQUFpQkMsY0FBakIsRUFBeUI7QUFDckJDLEVBQUFBLGVBQWUsRUFBRSxJQURJO0FBRXJCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUZDLENBQXpCLEUsQ0FLQTs7O0FBQ0FKLGtCQUFTSyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3RDQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxnQkFBZU4sY0FBTyxFQUFuQztBQUNILENBRkQsRSxDQUlBOzs7QUFDQUYsa0JBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLGNBQXZCLEVBQXVDLE1BQU07QUFDekNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLG1CQUFrQk4sY0FBTyxFQUF0QztBQUNILENBRkQsRSxDQUlBOzs7QUFDQUYsa0JBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxLQUFELElBQVc7QUFDdkNGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGtCQUFpQkMsS0FBTSxFQUFwQztBQUNILENBRkQsRSxDQUlBOzs7ZUFDZVQsaUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuLy8gY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5pbXBvcnQge0RCX1VSTH0gZnJvbSAnLi9jb25maWcnXG4vLyBjb25zdCB7REJfVVJMfSA9IHJlcXVpcmUoJy4vY29uZmlnJylcbi8v6L+e5o6l5YiwbW9uZ29kYuaVsOaNruW6k1xubW9uZ29vc2UuY29ubmVjdChEQl9VUkwsIHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG59KVxuXG4vL+i/nuaOpeaIkOWKn1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBjb25uZWN0ZWQgdG8gJHtEQl9VUkx9YClcbn0pXG5cbi8v5pat5byA6L+e5o6lXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYGRpc2Nvbm5lY3QgZnJvbSAke0RCX1VSTH1gKVxufSlcblxuLy/ov57mjqXlvILluLhcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coYGNvbm5lY3QgZXJyb3I6ICR7ZXJyb3J9YClcbn0pXG5cbi8vIG1vZHVsZS5leHBvcnRzID0gIG1vbmdvb3NlXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mongoConnect.js"
      ],
      "names": [
        "mongoose",
        "connect",
        "DB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "connection",
        "on",
        "console",
        "log",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;AADA;AAEA;AACA;AACAA,kBAASC,OAAT,CAAiBC,cAAjB,EAAyB;AACrBC,EAAAA,eAAe,EAAE,IADI;AAErBC,EAAAA,kBAAkB,EAAE;AAFC,CAAzB,E,CAKA;;;AACAJ,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,MAAM;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeN,cAAO,EAAnC;AACH,CAFD,E,CAIA;;;AACAF,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,MAAM;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAa,mBAAkBN,cAAO,EAAtC;AACH,CAFD,E,CAIA;;;AACAF,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAiCG,KAAD,IAAW;AACvCF,EAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBC,KAAM,EAApC;AACH,CAFD,E,CAIA;;;eACeT,iB",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n// const mongoose = require('mongoose')\nimport {DB_URL} from './config'\n// const {DB_URL} = require('./config')\n//连接到mongodb数据库\nmongoose.connect(DB_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n})\n\n//连接成功\nmongoose.connection.on('connected', () => {\n    console.log(`connected to ${DB_URL}`)\n})\n\n//断开连接\nmongoose.connection.on('disconnected', () => {\n    console.log(`disconnect from ${DB_URL}`)\n})\n\n//连接异常\nmongoose.connection.on('error', (error) => {\n    console.log(`connect error: ${error}`)\n})\n\n// module.exports =  mongoose\nexport default mongoose"
      ]
    },
    "sourceType": "script",
    "mtime": 1592987113873
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
        "sourceFileName": "errorHandle.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (ctx, next) => {\n  return next().catch(err => {\n    if (401 == err.status) {\n      ctx.body = {\n        code: 401,\n        text: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = {\n        code: 500,\n        text: err.message,\n        error: err.stack\n      };\n      throw err;\n    }\n  });\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ySGFuZGxlLmpzIl0sIm5hbWVzIjpbImN0eCIsIm5leHQiLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImJvZHkiLCJjb2RlIiwidGV4dCIsIm1lc3NhZ2UiLCJlcnJvciIsInN0YWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsQ0FBQ0EsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDMUIsU0FBT0EsSUFBSSxHQUFHQyxLQUFQLENBQWNDLEdBQUQsSUFBUztBQUN6QixRQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBZixFQUF1QjtBQUNyQkosTUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDUEMsUUFBQUEsSUFBSSxFQUFFLEdBREM7QUFFUEMsUUFBQUEsSUFBSSxFQUFFO0FBRkMsT0FBWDtBQUlELEtBTEQsTUFLTztBQUNMUCxNQUFBQSxHQUFHLENBQUNJLE1BQUosR0FBYUQsR0FBRyxDQUFDQyxNQUFKLElBQWMsR0FBM0I7QUFDQUosTUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDVEMsUUFBQUEsSUFBSSxFQUFFLEdBREc7QUFFVEMsUUFBQUEsSUFBSSxFQUFFSixHQUFHLENBQUNLLE9BRkQ7QUFHVEMsUUFBQUEsS0FBSyxFQUFFTixHQUFHLENBQUNPO0FBSEYsT0FBWDtBQUtBLFlBQU1QLEdBQU47QUFDRDtBQUNKLEdBZk0sQ0FBUDtBQWdCSCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29tbW9uLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChjdHgsIG5leHQpID0+IHtcbiAgICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XG4gICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgdGV4dDogJ1Byb3RlY3RlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMDtcbiAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgIHRleHQ6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgZXJyb3I6IGVyci5zdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgIH0pO1xufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "errorHandle.js"
      ],
      "names": [
        "ctx",
        "next",
        "catch",
        "err",
        "status",
        "body",
        "code",
        "text",
        "message",
        "error",
        "stack"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,GAAD,EAAMC,IAAN,KAAe;AAC1B,SAAOA,IAAI,GAAGC,KAAP,CAAcC,GAAD,IAAS;AACzB,QAAI,OAAOA,GAAG,CAACC,MAAf,EAAuB;AACrBJ,MAAAA,GAAG,CAACK,IAAJ,GAAW;AACPC,QAAAA,IAAI,EAAE,GADC;AAEPC,QAAAA,IAAI,EAAE;AAFC,OAAX;AAID,KALD,MAKO;AACLP,MAAAA,GAAG,CAACI,MAAJ,GAAaD,GAAG,CAACC,MAAJ,IAAc,GAA3B;AACAJ,MAAAA,GAAG,CAACK,IAAJ,GAAW;AACTC,QAAAA,IAAI,EAAE,GADG;AAETC,QAAAA,IAAI,EAAEJ,GAAG,CAACK,OAFD;AAGTC,QAAAA,KAAK,EAAEN,GAAG,CAACO;AAHF,OAAX;AAKA,YAAMP,GAAN;AACD;AACJ,GAfM,CAAP;AAgBH,C",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "sourcesContent": [
        "export default (ctx, next) => {\n    return next().catch((err) => {\n        if (401 == err.status) {\n          ctx.body = {\n              code: 401,\n              text: 'Protected resource, use Authorization header to get access\\n'\n          }\n        } else {\n          ctx.status = err.status || 500;\n          ctx.body = {\n            code: 500,\n            text: err.message,\n            error: err.stack\n          }\n          throw err\n        }\n    });\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1593000980695
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaCombineRouters = _interopRequireDefault(require(\"koa-combine-routers\"));\n\nvar _publicRoutes = _interopRequireDefault(require(\"./publicRoutes\"));\n\nvar _loginRoutes = _interopRequireDefault(require(\"./loginRoutes\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = (0, _koaCombineRouters.default)(_publicRoutes.default, _loginRoutes.default);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInB1YmxpY1JvdXRlcyIsImxvZ2luUm91dGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7Ozs7ZUFFZSxnQ0FBY0EscUJBQWQsRUFBNEJDLG9CQUE1QixDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21iaW5lUm91dGVzIGZyb20gJ2tvYS1jb21iaW5lLXJvdXRlcnMnXG5cbmltcG9ydCBwdWJsaWNSb3V0ZXMgZnJvbSAnLi9wdWJsaWNSb3V0ZXMnXG5pbXBvcnQgbG9naW5Sb3V0ZXMgZnJvbSAnLi9sb2dpblJvdXRlcydcblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJvdXRlcyhwdWJsaWNSb3V0ZXMsIGxvZ2luUm91dGVzKTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "publicRoutes",
        "loginRoutes"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;;;eAEe,gCAAcA,qBAAd,EAA4BC,oBAA5B,C",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import combineRoutes from 'koa-combine-routers'\n\nimport publicRoutes from './publicRoutes'\nimport loginRoutes from './loginRoutes'\n\nexport default combineRoutes(publicRoutes, loginRoutes);"
      ]
    },
    "sourceType": "script",
    "mtime": 1592380520325
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/publicRoutes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "publicRoutes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nvar _PublicController = _interopRequireDefault(require(\"../api/PublicController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = new _koaRouter.default();\nrouter.prefix('/public');\nrouter.get('/getCaptcha', _PublicController.default.getCaptcha);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YmxpY1JvdXRlcy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJnZXQiLCJwdWJsaWNDb250cm9sbGVyIiwiZ2V0Q2FwdGNoYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGtCQUFKLEVBQWY7QUFJQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZDtBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQywwQkFBaUJDLFVBQTNDO2VBRWVMLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IHB1YmxpY0NvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL1B1YmxpY0NvbnRyb2xsZXInXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKCk7XG5cblxuXG5yb3V0ZXIucHJlZml4KCcvcHVibGljJylcbnJvdXRlci5nZXQoJy9nZXRDYXB0Y2hhJywgcHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "publicRoutes.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "get",
        "publicController",
        "getCaptcha"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;AAIAD,MAAM,CAACE,MAAP,CAAc,SAAd;AACAF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BC,0BAAiBC,UAA3C;eAEeL,M",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import Router from 'koa-router'\nimport publicController from '../api/PublicController'\nconst router = new Router();\n\n\n\nrouter.prefix('/public')\nrouter.get('/getCaptcha', publicController.getCaptcha)\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1592970002246
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/PublicController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
        "sourceFileName": "PublicController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _svgCaptcha = _interopRequireDefault(require(\"svg-captcha\"));\n\nvar _redisConnect = require(\"../config/redisConnect\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const {\n      sid\n    } = ctx.request.query;\n\n    const newCaptca = _svgCaptcha.default.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 50\n    }); // console.log(newCaptca)\n    //将取到的sid值存入redis中并设置过期时间\n\n\n    (0, _redisConnect.setValue)(sid, newCaptca.text, 6000);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\nvar _default = new PublicController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlB1YmxpY0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiUHVibGljQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZ2V0Q2FwdGNoYSIsImN0eCIsInNpZCIsInJlcXVlc3QiLCJxdWVyeSIsIm5ld0NhcHRjYSIsInN2Z0NhcHRjaGEiLCJjcmVhdGUiLCJzaXplIiwiaWdub3JlQ2hhcnMiLCJjb2xvciIsIm5vaXNlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0IiwiYm9keSIsImNvZGUiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxnQkFBTixDQUF1QjtBQUNyQkMsRUFBQUEsV0FBVyxHQUFHLENBQUU7O0FBQ2hCLFFBQU1DLFVBQU4sQ0FBaUJDLEdBQWpCLEVBQXNCO0FBQ3BCLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFVRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBNUI7O0FBQ0EsVUFBTUMsU0FBUyxHQUFHQyxvQkFBV0MsTUFBWCxDQUFrQjtBQUNsQ0MsTUFBQUEsSUFBSSxFQUFFLENBRDRCO0FBRWxDQyxNQUFBQSxXQUFXLEVBQUUsT0FGcUI7QUFHbENDLE1BQUFBLEtBQUssRUFBRSxJQUgyQjtBQUlsQ0MsTUFBQUEsS0FBSyxFQUFFQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLENBQTNCLENBSjJCO0FBS2xDQyxNQUFBQSxLQUFLLEVBQUUsR0FMMkI7QUFNbENDLE1BQUFBLE1BQU0sRUFBRTtBQU4wQixLQUFsQixDQUFsQixDQUZvQixDQVVwQjtBQUNBOzs7QUFDQSxnQ0FBU2QsR0FBVCxFQUFjRyxTQUFTLENBQUNZLElBQXhCLEVBQThCLElBQTlCO0FBQ0FoQixJQUFBQSxHQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsTUFBQUEsSUFBSSxFQUFFLEdBREc7QUFFVEMsTUFBQUEsSUFBSSxFQUFFZixTQUFTLENBQUNlO0FBRlAsS0FBWDtBQUlEOztBQW5Cb0I7O2VBc0JSLElBQUl0QixnQkFBSixFIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvYXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJ1xuaW1wb3J0IHtnZXRWYWx1ZSwgc2V0VmFsdWV9IGZyb20gJy4uL2NvbmZpZy9yZWRpc0Nvbm5lY3QnXG5cblxuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgYXN5bmMgZ2V0Q2FwdGNoYShjdHgpIHtcbiAgICBjb25zdCB7IHNpZCB9ID0gY3R4LnJlcXVlc3QucXVlcnk7XG4gICAgY29uc3QgbmV3Q2FwdGNhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xuICAgICAgc2l6ZTogNCxcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaWwnLFxuICAgICAgY29sb3I6IHRydWUsXG4gICAgICBub2lzZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksXG4gICAgICB3aWR0aDogMTUwLFxuICAgICAgaGVpZ2h0OiA1MCxcbiAgICB9KVxuICAgIC8vIGNvbnNvbGUubG9nKG5ld0NhcHRjYSlcbiAgICAvL+WwhuWPluWIsOeahHNpZOWAvOWtmOWFpXJlZGlz5Lit5bm26K6+572u6L+H5pyf5pe26Ze0XG4gICAgc2V0VmFsdWUoc2lkLCBuZXdDYXB0Y2EudGV4dCwgNjAwMClcbiAgICBjdHguYm9keSA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IG5ld0NhcHRjYS5kYXRhLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "PublicController.js"
      ],
      "names": [
        "PublicController",
        "constructor",
        "getCaptcha",
        "ctx",
        "sid",
        "request",
        "query",
        "newCaptca",
        "svgCaptcha",
        "create",
        "size",
        "ignoreChars",
        "color",
        "noise",
        "Math",
        "floor",
        "random",
        "width",
        "height",
        "text",
        "body",
        "code",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAGA,MAAMA,gBAAN,CAAuB;AACrBC,EAAAA,WAAW,GAAG,CAAE;;AAChB,QAAMC,UAAN,CAAiBC,GAAjB,EAAsB;AACpB,UAAM;AAAEC,MAAAA;AAAF,QAAUD,GAAG,CAACE,OAAJ,CAAYC,KAA5B;;AACA,UAAMC,SAAS,GAAGC,oBAAWC,MAAX,CAAkB;AAClCC,MAAAA,IAAI,EAAE,CAD4B;AAElCC,MAAAA,WAAW,EAAE,OAFqB;AAGlCC,MAAAA,KAAK,EAAE,IAH2B;AAIlCC,MAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAJ2B;AAKlCC,MAAAA,KAAK,EAAE,GAL2B;AAMlCC,MAAAA,MAAM,EAAE;AAN0B,KAAlB,CAAlB,CAFoB,CAUpB;AACA;;;AACA,gCAASd,GAAT,EAAcG,SAAS,CAACY,IAAxB,EAA8B,IAA9B;AACAhB,IAAAA,GAAG,CAACiB,IAAJ,GAAW;AACTC,MAAAA,IAAI,EAAE,GADG;AAETC,MAAAA,IAAI,EAAEf,SAAS,CAACe;AAFP,KAAX;AAID;;AAnBoB;;eAsBR,IAAItB,gBAAJ,E",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "sourcesContent": [
        "import svgCaptcha from 'svg-captcha'\nimport {getValue, setValue} from '../config/redisConnect'\n\n\nclass PublicController {\n  constructor() {}\n  async getCaptcha(ctx) {\n    const { sid } = ctx.request.query;\n    const newCaptca = svgCaptcha.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 50,\n    })\n    // console.log(newCaptca)\n    //将取到的sid值存入redis中并设置过期时间\n    setValue(sid, newCaptca.text, 6000)\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data,\n    }\n  }\n}\n\nexport default new PublicController()\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592994925122
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/redisConnect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "redisConnect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.delValue = exports.setHValue = exports.setValue = exports.getHValue = exports.getValue = void 0;\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nvar _redis = _interopRequireDefault(require(\"redis\"));\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//使通过createClient得到的client对象的方法返回的值都是promise实例\n_bluebird.default.promisifyAll(_redis.default);\n\nconst options = {\n  host: _config.REDIS_OPS.host,\n  port: _config.REDIS_OPS.port,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === \"ECONNREFUSED\") {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error(\"The server refused the connection\");\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error(\"Retry time exhausted\");\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n};\n\nconst client = _redis.default.createClient(options);\n\nclient.on('error', err => {\n  console.log('error occurred' + err);\n});\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nexports.getValue = getValue;\n\nconst getHValue = key => {\n  return client.hgetallAsync(key, _redis.default.print);\n};\n\nexports.getHValue = getHValue;\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'object' || value === undefined || value === \"\") return;\n  client.set(key, value, _redis.default.print);\n\n  if (time) {\n    client.expire(key, time);\n  }\n};\n\nexports.setValue = setValue;\n\nconst setHValue = (key, value) => {\n  //若要保存的值非对象直接返回\n  if (Object.prototype.toString.call(value) !== '[object Object]') return;\n  Object.keys(value).forEach((item, index) => {\n    client.hsetAsync(key, item, value[item]);\n  });\n};\n\nexports.setHValue = setHValue;\n\nconst delValue = async key => {\n  try {\n    const res = await client.delAsync(key);\n\n    if (res === 1) {\n      console.log('delete success');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexports.delValue = delValue;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZGlzQ29ubmVjdC5qcyJdLCJuYW1lcyI6WyJibHVlYmlyZCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwib3B0aW9ucyIsImhvc3QiLCJSRURJU19PUFMiLCJwb3J0IiwiZGV0ZWN0X2J1ZmZlcnMiLCJyZXRyeV9zdHJhdGVneSIsImVycm9yIiwiY29kZSIsIkVycm9yIiwidG90YWxfcmV0cnlfdGltZSIsImF0dGVtcHQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWluIiwiY2xpZW50IiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZ2V0VmFsdWUiLCJrZXkiLCJnZXRBc3luYyIsImdldEhWYWx1ZSIsImhnZXRhbGxBc3luYyIsInByaW50Iiwic2V0VmFsdWUiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJleHBpcmUiLCJzZXRIVmFsdWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsImhzZXRBc3luYyIsImRlbFZhbHVlIiwicmVzIiwiZGVsQXN5bmMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0FBLGtCQUFTQyxZQUFULENBQXNCQyxjQUF0Qjs7QUFHQSxNQUFNQyxPQUFPLEdBQUc7QUFDWkMsRUFBQUEsSUFBSSxFQUFFQyxrQkFBVUQsSUFESjtBQUVaRSxFQUFBQSxJQUFJLEVBQUVELGtCQUFVQyxJQUZKO0FBR1pDLEVBQUFBLGNBQWMsRUFBRSxJQUhKO0FBSVpDLEVBQUFBLGNBQWMsRUFBRSxVQUFTTCxPQUFULEVBQWtCO0FBQzlCLFFBQUlBLE9BQU8sQ0FBQ00sS0FBUixJQUFpQk4sT0FBTyxDQUFDTSxLQUFSLENBQWNDLElBQWQsS0FBdUIsY0FBNUMsRUFBNEQ7QUFDMUQ7QUFDQTtBQUNBLGFBQU8sSUFBSUMsS0FBSixDQUFVLG1DQUFWLENBQVA7QUFDRDs7QUFDRCxRQUFJUixPQUFPLENBQUNTLGdCQUFSLEdBQTJCLE9BQU8sRUFBUCxHQUFZLEVBQTNDLEVBQStDO0FBQzdDO0FBQ0E7QUFDQSxhQUFPLElBQUlELEtBQUosQ0FBVSxzQkFBVixDQUFQO0FBQ0Q7O0FBQ0QsUUFBSVIsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEVBQXRCLEVBQTBCO0FBQ3hCO0FBQ0EsYUFBT0MsU0FBUDtBQUNELEtBZDZCLENBZTlCOzs7QUFDQSxXQUFPQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2IsT0FBTyxDQUFDVSxPQUFSLEdBQWtCLEdBQTNCLEVBQWdDLElBQWhDLENBQVA7QUFDRDtBQXJCUyxDQUFoQjs7QUF3QkEsTUFBTUksTUFBTSxHQUFHZixlQUFNZ0IsWUFBTixDQUFtQmYsT0FBbkIsQ0FBZjs7QUFFQWMsTUFBTSxDQUFDRSxFQUFQLENBQVUsT0FBVixFQUFvQkMsR0FBRCxJQUFTO0FBQ3hCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBbUJGLEdBQS9CO0FBQ0gsQ0FGRDs7QUFJQSxNQUFNRyxRQUFRLEdBQUlDLEdBQUQsSUFBUztBQUN0QixTQUFPUCxNQUFNLENBQUNRLFFBQVAsQ0FBZ0JELEdBQWhCLENBQVA7QUFDSCxDQUZEOzs7O0FBSUEsTUFBTUUsU0FBUyxHQUFJRixHQUFELElBQVM7QUFDdkIsU0FBT1AsTUFBTSxDQUFDVSxZQUFQLENBQW9CSCxHQUFwQixFQUF5QnRCLGVBQU0wQixLQUEvQixDQUFQO0FBQ0gsQ0FGRDs7OztBQUlBLE1BQU1DLFFBQVEsR0FBRyxDQUFDTCxHQUFELEVBQU1NLEtBQU4sRUFBYUMsSUFBYixLQUFzQjtBQUNuQyxNQUFHLE9BQU9ELEtBQVAsS0FBaUIsUUFBakIsSUFBNkJBLEtBQUssS0FBS2hCLFNBQXZDLElBQW9EZ0IsS0FBSyxLQUFLLEVBQWpFLEVBQXFFO0FBQ3JFYixFQUFBQSxNQUFNLENBQUNlLEdBQVAsQ0FBV1IsR0FBWCxFQUFnQk0sS0FBaEIsRUFBdUI1QixlQUFNMEIsS0FBN0I7O0FBQ0EsTUFBSUcsSUFBSixFQUFVO0FBQ05kLElBQUFBLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY1QsR0FBZCxFQUFtQk8sSUFBbkI7QUFDSDtBQUNKLENBTkQ7Ozs7QUFRQSxNQUFNRyxTQUFTLEdBQUcsQ0FBQ1YsR0FBRCxFQUFNTSxLQUFOLEtBQWdCO0FBQzlCO0FBQ0EsTUFBSUssTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxRQUFqQixDQUEwQkMsSUFBMUIsQ0FBK0JSLEtBQS9CLE1BQTBDLGlCQUE5QyxFQUFpRTtBQUNqRUssRUFBQUEsTUFBTSxDQUFDSSxJQUFQLENBQVlULEtBQVosRUFBbUJVLE9BQW5CLENBQTRCLENBQUNDLElBQUQsRUFBT0MsS0FBUCxLQUFpQjtBQUN6Q3pCLElBQUFBLE1BQU0sQ0FBQzBCLFNBQVAsQ0FBaUJuQixHQUFqQixFQUFzQmlCLElBQXRCLEVBQTRCWCxLQUFLLENBQUNXLElBQUQsQ0FBakM7QUFDSCxHQUZEO0FBR0gsQ0FORDs7OztBQVFBLE1BQU1HLFFBQVEsR0FBRyxNQUFPcEIsR0FBUCxJQUFlO0FBQzVCLE1BQUk7QUFDRCxVQUFNcUIsR0FBRyxHQUFHLE1BQU01QixNQUFNLENBQUM2QixRQUFQLENBQWdCdEIsR0FBaEIsQ0FBbEI7O0FBQ0EsUUFBSXFCLEdBQUcsS0FBSyxDQUFaLEVBQWU7QUFDWHhCLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0g7QUFDSCxHQUxELENBS0UsT0FBT2IsS0FBUCxFQUFjO0FBQ1pZLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYixLQUFaO0FBQ0g7QUFDSixDQVREIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBibHVlYmlyZCBmcm9tICdibHVlYmlyZCdcbmltcG9ydCByZWRpcyBmcm9tICdyZWRpcydcbmltcG9ydCB7UkVESVNfT1BTfSBmcm9tICcuL2NvbmZpZydcblxuLy/kvb/pgJrov4djcmVhdGVDbGllbnTlvpfliLDnmoRjbGllbnTlr7nosaHnmoTmlrnms5Xov5Tlm57nmoTlgLzpg73mmK9wcm9taXNl5a6e5L6LXG5ibHVlYmlyZC5wcm9taXNpZnlBbGwocmVkaXMpXG5cblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBob3N0OiBSRURJU19PUFMuaG9zdCxcbiAgICBwb3J0OiBSRURJU19PUFMucG9ydCxcbiAgICBkZXRlY3RfYnVmZmVyczogdHJ1ZSxcbiAgICByZXRyeV9zdHJhdGVneTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5lcnJvciAmJiBvcHRpb25zLmVycm9yLmNvZGUgPT09IFwiRUNPTk5SRUZVU0VEXCIpIHtcbiAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIG9uIGEgc3BlY2lmaWMgZXJyb3IgYW5kIGZsdXNoIGFsbCBjb21tYW5kcyB3aXRoXG4gICAgICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcIlRoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50b3RhbF9yZXRyeV90aW1lID4gMTAwMCAqIDYwICogNjApIHtcbiAgICAgICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3BlY2lmaWMgdGltZW91dCBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzXG4gICAgICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcbiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiUmV0cnkgdGltZSBleGhhdXN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0ZW1wdCA+IDEwKSB7XG4gICAgICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyB3aXRoIGJ1aWx0IGluIGVycm9yXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWNvbm5lY3QgYWZ0ZXJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XG4gICAgICB9LFxufVxuXG5jb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcblxuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3Igb2NjdXJyZWQnICsgZXJyKVxufSlcblxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudC5nZXRBc3luYyhrZXkpXG59XG5cbmNvbnN0IGdldEhWYWx1ZSA9IChrZXkpID0+IHtcbiAgICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXksIHJlZGlzLnByaW50KVxufVxuXG5jb25zdCBzZXRWYWx1ZSA9IChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XG4gICAgaWYodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBcIlwiKSByZXR1cm5cbiAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUsIHJlZGlzLnByaW50KVxuICAgIGlmICh0aW1lKSB7XG4gICAgICAgIGNsaWVudC5leHBpcmUoa2V5LCB0aW1lKVxuICAgIH1cbn1cblxuY29uc3Qgc2V0SFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvL+iLpeimgeS/neWtmOeahOWAvOmdnuWvueixoeebtOaOpei/lOWbnlxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIFxuICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKCAoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY2xpZW50LmhzZXRBc3luYyhrZXksIGl0ZW0sIHZhbHVlW2l0ZW1dKTtcbiAgICB9KVxufVxuXG5jb25zdCBkZWxWYWx1ZSA9IGFzeW5jIChrZXkpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5kZWxBc3luYyhrZXkpXG4gICAgICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHN1Y2Nlc3MnKVxuICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikgICBcbiAgICB9XG59XG5cblxuZXhwb3J0IHtcbiAgICBnZXRWYWx1ZSxcbiAgICBnZXRIVmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgc2V0SFZhbHVlLFxuICAgIGRlbFZhbHVlXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "redisConnect.js"
      ],
      "names": [
        "bluebird",
        "promisifyAll",
        "redis",
        "options",
        "host",
        "REDIS_OPS",
        "port",
        "detect_buffers",
        "retry_strategy",
        "error",
        "code",
        "Error",
        "total_retry_time",
        "attempt",
        "undefined",
        "Math",
        "min",
        "client",
        "createClient",
        "on",
        "err",
        "console",
        "log",
        "getValue",
        "key",
        "getAsync",
        "getHValue",
        "hgetallAsync",
        "print",
        "setValue",
        "value",
        "time",
        "set",
        "expire",
        "setHValue",
        "Object",
        "prototype",
        "toString",
        "call",
        "keys",
        "forEach",
        "item",
        "index",
        "hsetAsync",
        "delValue",
        "res",
        "delAsync"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA;AACAA,kBAASC,YAAT,CAAsBC,cAAtB;;AAGA,MAAMC,OAAO,GAAG;AACZC,EAAAA,IAAI,EAAEC,kBAAUD,IADJ;AAEZE,EAAAA,IAAI,EAAED,kBAAUC,IAFJ;AAGZC,EAAAA,cAAc,EAAE,IAHJ;AAIZC,EAAAA,cAAc,EAAE,UAASL,OAAT,EAAkB;AAC9B,QAAIA,OAAO,CAACM,KAAR,IAAiBN,OAAO,CAACM,KAAR,CAAcC,IAAd,KAAuB,cAA5C,EAA4D;AAC1D;AACA;AACA,aAAO,IAAIC,KAAJ,CAAU,mCAAV,CAAP;AACD;;AACD,QAAIR,OAAO,CAACS,gBAAR,GAA2B,OAAO,EAAP,GAAY,EAA3C,EAA+C;AAC7C;AACA;AACA,aAAO,IAAID,KAAJ,CAAU,sBAAV,CAAP;AACD;;AACD,QAAIR,OAAO,CAACU,OAAR,GAAkB,EAAtB,EAA0B;AACxB;AACA,aAAOC,SAAP;AACD,KAd6B,CAe9B;;;AACA,WAAOC,IAAI,CAACC,GAAL,CAASb,OAAO,CAACU,OAAR,GAAkB,GAA3B,EAAgC,IAAhC,CAAP;AACD;AArBS,CAAhB;;AAwBA,MAAMI,MAAM,GAAGf,eAAMgB,YAAN,CAAmBf,OAAnB,CAAf;;AAEAc,MAAM,CAACE,EAAP,CAAU,OAAV,EAAoBC,GAAD,IAAS;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBF,GAA/B;AACH,CAFD;;AAIA,MAAMG,QAAQ,GAAIC,GAAD,IAAS;AACtB,SAAOP,MAAM,CAACQ,QAAP,CAAgBD,GAAhB,CAAP;AACH,CAFD;;;;AAIA,MAAME,SAAS,GAAIF,GAAD,IAAS;AACvB,SAAOP,MAAM,CAACU,YAAP,CAAoBH,GAApB,EAAyBtB,eAAM0B,KAA/B,CAAP;AACH,CAFD;;;;AAIA,MAAMC,QAAQ,GAAG,CAACL,GAAD,EAAMM,KAAN,EAAaC,IAAb,KAAsB;AACnC,MAAG,OAAOD,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAKhB,SAAvC,IAAoDgB,KAAK,KAAK,EAAjE,EAAqE;AACrEb,EAAAA,MAAM,CAACe,GAAP,CAAWR,GAAX,EAAgBM,KAAhB,EAAuB5B,eAAM0B,KAA7B;;AACA,MAAIG,IAAJ,EAAU;AACNd,IAAAA,MAAM,CAACgB,MAAP,CAAcT,GAAd,EAAmBO,IAAnB;AACH;AACJ,CAND;;;;AAQA,MAAMG,SAAS,GAAG,CAACV,GAAD,EAAMM,KAAN,KAAgB;AAC9B;AACA,MAAIK,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BR,KAA/B,MAA0C,iBAA9C,EAAiE;AACjEK,EAAAA,MAAM,CAACI,IAAP,CAAYT,KAAZ,EAAmBU,OAAnB,CAA4B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACzCzB,IAAAA,MAAM,CAAC0B,SAAP,CAAiBnB,GAAjB,EAAsBiB,IAAtB,EAA4BX,KAAK,CAACW,IAAD,CAAjC;AACH,GAFD;AAGH,CAND;;;;AAQA,MAAMG,QAAQ,GAAG,MAAOpB,GAAP,IAAe;AAC5B,MAAI;AACD,UAAMqB,GAAG,GAAG,MAAM5B,MAAM,CAAC6B,QAAP,CAAgBtB,GAAhB,CAAlB;;AACA,QAAIqB,GAAG,KAAK,CAAZ,EAAe;AACXxB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH;AACH,GALD,CAKE,OAAOb,KAAP,EAAc;AACZY,IAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;AACH;AACJ,CATD",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import bluebird from 'bluebird'\nimport redis from 'redis'\nimport {REDIS_OPS} from './config'\n\n//使通过createClient得到的client对象的方法返回的值都是promise实例\nbluebird.promisifyAll(redis)\n\n\nconst options = {\n    host: REDIS_OPS.host,\n    port: REDIS_OPS.port,\n    detect_buffers: true,\n    retry_strategy: function(options) {\n        if (options.error && options.error.code === \"ECONNREFUSED\") {\n          // End reconnecting on a specific error and flush all commands with\n          // a individual error\n          return new Error(\"The server refused the connection\");\n        }\n        if (options.total_retry_time > 1000 * 60 * 60) {\n          // End reconnecting after a specific timeout and flush all commands\n          // with a individual error\n          return new Error(\"Retry time exhausted\");\n        }\n        if (options.attempt > 10) {\n          // End reconnecting with built in error\n          return undefined;\n        }\n        // reconnect after\n        return Math.min(options.attempt * 100, 3000);\n      },\n}\n\nconst client = redis.createClient(options)\n\nclient.on('error', (err) => {\n    console.log('error occurred' + err)\n})\n\nconst getValue = (key) => {\n    return client.getAsync(key)\n}\n\nconst getHValue = (key) => {\n    return client.hgetallAsync(key, redis.print)\n}\n\nconst setValue = (key, value, time) => {\n    if(typeof value === 'object' || value === undefined || value === \"\") return\n    client.set(key, value, redis.print)\n    if (time) {\n        client.expire(key, time)\n    }\n}\n\nconst setHValue = (key, value) => {\n    //若要保存的值非对象直接返回\n    if (Object.prototype.toString.call(value) !== '[object Object]') return \n    Object.keys(value).forEach( (item, index) => {\n        client.hsetAsync(key, item, value[item]);\n    })\n}\n\nconst delValue = async (key) => {\n    try {\n       const res = await client.delAsync(key)\n       if (res === 1) {\n           console.log('delete success')\n       }\n    } catch (error) {\n        console.log(error)   \n    }\n}\n\n\nexport {\n    getValue,\n    getHValue,\n    setValue,\n    setHValue,\n    delValue\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592991165135
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JWT_SECRET = exports.REDIS_OPS = exports.DB_URL = void 0;\nconst DB_URL = 'mongodb://localhost:27017/testdb';\nexports.DB_URL = DB_URL;\nconst REDIS_OPS = {\n  host: \"127.0.0.1\",\n  port: \"6379\"\n};\nexports.REDIS_OPS = REDIS_OPS;\nconst JWT_SECRET = 'CYWILL';\nexports.JWT_SECRET = JWT_SECRET;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJEQl9VUkwiLCJSRURJU19PUFMiLCJob3N0IiwicG9ydCIsIkpXVF9TRUNSRVQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLE1BQU0sR0FBRyxrQ0FBZjs7QUFDQSxNQUFNQyxTQUFTLEdBQUc7QUFDZEMsRUFBQUEsSUFBSSxFQUFFLFdBRFE7QUFFZEMsRUFBQUEsSUFBSSxFQUFFO0FBRlEsQ0FBbEI7O0FBSUEsTUFBTUMsVUFBVSxHQUFHLFFBQW5CIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERCX1VSTCA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L3Rlc3RkYidcbmNvbnN0IFJFRElTX09QUyA9IHtcbiAgICBob3N0OiBcIjEyNy4wLjAuMVwiLFxuICAgIHBvcnQ6IFwiNjM3OVwiXG59XG5jb25zdCBKV1RfU0VDUkVUID0gJ0NZV0lMTCdcblxuXG5cblxuZXhwb3J0IHtcbiAgICBEQl9VUkwsXG4gICAgUkVESVNfT1BTLFxuICAgIEpXVF9TRUNSRVRcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "DB_URL",
        "REDIS_OPS",
        "host",
        "port",
        "JWT_SECRET"
      ],
      "mappings": ";;;;;;AAAA,MAAMA,MAAM,GAAG,kCAAf;;AACA,MAAMC,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE,WADQ;AAEdC,EAAAA,IAAI,EAAE;AAFQ,CAAlB;;AAIA,MAAMC,UAAU,GAAG,QAAnB",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "const DB_URL = 'mongodb://localhost:27017/testdb'\nconst REDIS_OPS = {\n    host: \"127.0.0.1\",\n    port: \"6379\"\n}\nconst JWT_SECRET = 'CYWILL'\n\n\n\n\nexport {\n    DB_URL,\n    REDIS_OPS,\n    JWT_SECRET\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592967376830
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/loginRoutes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
        "sourceFileName": "loginRoutes.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _LoginController = _interopRequireDefault(require(\"../api/LoginController\"));\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = new _koaRouter.default();\nrouter.prefix('/login');\nrouter.post('/forget', _LoginController.default.forget);\nrouter.post('/login', _LoginController.default.login);\nrouter.post('/test', _LoginController.default.test);\nrouter.post('/reg', _LoginController.default.reg);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luUm91dGVzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJMb2dpbkNvbnRyb2xsZXIiLCJmb3JnZXQiLCJsb2dpbiIsInRlc3QiLCJyZWciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUNBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxrQkFBSixFQUFmO0FBR0FELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQ7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMseUJBQWdCQyxNQUF2QztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQyx5QkFBZ0JFLEtBQXRDO0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLE9BQVosRUFBcUJDLHlCQUFnQkcsSUFBckM7QUFDQVAsTUFBTSxDQUFDRyxJQUFQLENBQVksTUFBWixFQUFvQkMseUJBQWdCSSxHQUFwQztlQUVlUixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dpbkNvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL0xvZ2luQ29udHJvbGxlcidcbmltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5cbnJvdXRlci5wcmVmaXgoJy9sb2dpbicpXG5yb3V0ZXIucG9zdCgnL2ZvcmdldCcsIExvZ2luQ29udHJvbGxlci5mb3JnZXQpXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgTG9naW5Db250cm9sbGVyLmxvZ2luKVxucm91dGVyLnBvc3QoJy90ZXN0JywgTG9naW5Db250cm9sbGVyLnRlc3QpXG5yb3V0ZXIucG9zdCgnL3JlZycsIExvZ2luQ29udHJvbGxlci5yZWcpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "loginRoutes.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "post",
        "LoginController",
        "forget",
        "login",
        "test",
        "reg"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;AAGAD,MAAM,CAACE,MAAP,CAAc,QAAd;AACAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,yBAAgBC,MAAvC;AACAL,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBC,yBAAgBE,KAAtC;AACAN,MAAM,CAACG,IAAP,CAAY,OAAZ,EAAqBC,yBAAgBG,IAArC;AACAP,MAAM,CAACG,IAAP,CAAY,MAAZ,EAAoBC,yBAAgBI,GAApC;eAEeR,M",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/routes/",
      "sourcesContent": [
        "import LoginController from '../api/LoginController'\nimport Router from 'koa-router'\nconst router = new Router()\n\n\nrouter.prefix('/login')\nrouter.post('/forget', LoginController.forget)\nrouter.post('/login', LoginController.login)\nrouter.post('/test', LoginController.test)\nrouter.post('/reg', LoginController.reg)\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1593072998830
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/LoginController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
        "sourceFileName": "LoginController.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _MailConfig = _interopRequireDefault(require(\"../config/MailConfig\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = require(\"../config/config\");\n\nvar _koaJson = _interopRequireDefault(require(\"koa-json\"));\n\nvar _utils = require(\"../common/utils\");\n\nvar _Users = _interopRequireDefault(require(\"../model/Users\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    //在发送邮件前应检查邮件名在数据库中是否存在以及发送过来的验证码是否正确\n    const {\n      body: {\n        username,\n        code\n      }\n    } = ctx.request;\n    console.log(ctx.request);\n    let message = '';\n\n    try {\n      console.log(username, code);\n      message = await (0, _MailConfig.default)({\n        user: 'mock',\n        expire: (0, _moment.default)().add(30, 'm').format('YYYY M D h:mm:ss'),\n        user: username,\n        to: username\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    ctx.body = {\n      code: 200,\n      message\n    };\n  }\n\n  async login(ctx) {\n    //检查验证码是否匹配及其有效性\n    //验证用户名密码是否正确\n    //返回token\n    const {\n      username,\n      password,\n      sid,\n      code\n    } = ctx.request.body; // console.log(username,password,code)\n\n    const res = await (0, _utils.checkCode)(sid, code); //验证码正确且在时效范围内时：\n\n    if (res) {\n      //从数据库中查询与用户名对应的密码，当用户名存在且密码正确时，颁发token\n      //当用户名不存在时应该进行错误处理\n      const mongoPassword = await _Users.default.findOne({\n        'username': username\n      });\n\n      if (mongoPassword.password == password) {\n        const token = _jsonwebtoken.default.sign({\n          id: 'dzz'\n        }, _config.JWT_SECRET, {\n          expiresIn: '1d'\n        });\n\n        ctx.body = {\n          code: 200,\n          token\n        };\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '密码错误'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 401,\n        msg: '验证码错误'\n      };\n    }\n  }\n\n  async reg(ctx) {\n    const msg = {}; //用来返回错误的对象，数据结构需要与veevalidate规定的一致\n\n    const {\n      code,\n      nickname,\n      password,\n      email,\n      sid\n    } = ctx.request.body; //1.接收前端发送的数据\n    //2.检查验证码是否正确及有效期\n    //3.检查emai是否已存在\n    //4.检查nickname是否已存在\n    //5.若都不存在则进行注册并返回200\n    //6.返回msg对象\n    //2.\n\n    const res = await (0, _utils.checkCode)(sid, code);\n    let exist = false; //验证码正确且在时效范围内时：\n\n    if (res) {\n      //3.\n      const mongoUsername = await _Users.default.findOne({\n        'username': email\n      });\n\n      if (mongoUsername) {\n        msg.email = ['邮箱已注册！'];\n        exist = true;\n      } //4.\n\n\n      const mongoNickName = await _Users.default.findOne({\n        'nickname': nickname\n      });\n\n      if (mongoNickName) {\n        msg.nickname = ['昵称已存在！'];\n        exist = true;\n      } //5.\n\n\n      if (!exist) {\n        const users = new _Users.default({\n          username: email,\n          nickname,\n          password\n        }); //进行存储操作\n\n        const mongoRes = await users.save();\n        ctx.body = {\n          code: 200,\n          msg: '注册成功!',\n          data: mongoRes\n        };\n        return; //当昵称和用户名均有效时，不执行118行内容，否则执行\n      }\n    } else {\n      msg.code = ['验证码错误'];\n      ctx.body = {\n        code: 401,\n        msg\n      };\n    }\n\n    ctx.body = {\n      code: 500,\n      msg\n    };\n  }\n\n  async test(ctx) {\n    const {\n      username\n    } = ctx.request.body;\n    console.log(username);\n    console.log(ctx.request.body);\n  }\n\n}\n\nvar _default = new LoginController();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJMb2dpbkNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImZvcmdldCIsImN0eCIsImJvZHkiLCJ1c2VybmFtZSIsImNvZGUiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJ1c2VyIiwiZXhwaXJlIiwiYWRkIiwiZm9ybWF0IiwidG8iLCJlcnIiLCJsb2dpbiIsInBhc3N3b3JkIiwic2lkIiwicmVzIiwibW9uZ29QYXNzd29yZCIsIlVzZXJzIiwiZmluZE9uZSIsInRva2VuIiwianNvbndlYnRva2VuIiwic2lnbiIsImlkIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIm1zZyIsInJlZyIsIm5pY2tuYW1lIiwiZW1haWwiLCJleGlzdCIsIm1vbmdvVXNlcm5hbWUiLCJtb25nb05pY2tOYW1lIiwidXNlcnMiLCJtb25nb1JlcyIsInNhdmUiLCJkYXRhIiwidGVzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR0EsTUFBTUEsZUFBTixDQUFzQjtBQUNsQkMsRUFBQUEsV0FBVyxHQUFHLENBRWI7O0FBRUQsUUFBTUMsTUFBTixDQUFhQyxHQUFiLEVBQWtCO0FBRWQ7QUFDQSxVQUFNO0FBQUNDLE1BQUFBLElBQUksRUFBRTtBQUFDQyxRQUFBQSxRQUFEO0FBQVdDLFFBQUFBO0FBQVg7QUFBUCxRQUEyQkgsR0FBRyxDQUFDSSxPQUFyQztBQUNBQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWU4sR0FBRyxDQUFDSSxPQUFoQjtBQUNBLFFBQUlHLE9BQU8sR0FBRyxFQUFkOztBQUNBLFFBQUc7QUFDQ0YsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLFFBQVosRUFBc0JDLElBQXRCO0FBQ0FJLE1BQUFBLE9BQU8sR0FBRyxNQUFNLHlCQUFLO0FBQ2pCQyxRQUFBQSxJQUFJLEVBQUUsTUFEVztBQUVqQkMsUUFB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O2VBMkhQLElBQUlKLGVBQUosRSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZGluZ3poaXlhby9EZXNrdG9wL+Wkp+WJjeerry9rb2Evc3JjL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VuZCBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuaW1wb3J0IGpzb253ZWJ0b2tlbiBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQge0pXVF9TRUNSRVR9IGZyb20gJy4uL2NvbmZpZy9jb25maWcnXG5pbXBvcnQganNvbiBmcm9tICdrb2EtanNvbic7XG5pbXBvcnQge2NoZWNrQ29kZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJ1xuaW1wb3J0IFVzZXJzIGZyb20gJy4uL21vZGVsL1VzZXJzJ1xuXG5cbmNsYXNzIExvZ2luQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBmb3JnZXQoY3R4KSB7XG5cbiAgICAgICAgLy/lnKjlj5HpgIHpgq7ku7bliY3lupTmo4Dmn6Xpgq7ku7blkI3lnKjmlbDmja7lupPkuK3mmK/lkKblrZjlnKjku6Xlj4rlj5HpgIHov4fmnaXnmoTpqozor4HnoIHmmK/lkKbmraPnoa5cbiAgICAgICAgY29uc3Qge2JvZHk6IHt1c2VybmFtZSwgY29kZX19ID0gY3R4LnJlcXVlc3Q7XG4gICAgICAgIGNvbnNvbGUubG9nKGN0eC5yZXF1ZXN0KVxuICAgICAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSwgY29kZSlcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBhd2FpdCBzZW5kKHtcbiAgICAgICAgICAgICAgICB1c2VyOiAnbW9jaycsXG4gICAgICAgICAgICAgICAgZXhwaXJlOiBtb21lbnQoKS5hZGQoMzAsICdtJykuZm9ybWF0KCdZWVlZIE0gRCBoOm1tOnNzJyksXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgdG86IHVzZXJuYW1lXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBsb2dpbihjdHgpIHtcbiAgICAgICAgLy/mo4Dmn6Xpqozor4HnoIHmmK/lkKbljLnphY3lj4rlhbbmnInmlYjmgKdcbiAgICAgICAgLy/pqozor4HnlKjmiLflkI3lr4bnoIHmmK/lkKbmraPnoa5cbiAgICAgICAgLy/ov5Tlm550b2tlblxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkLCBzaWQsIGNvZGV9ID0gY3R4LnJlcXVlc3QuYm9keTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codXNlcm5hbWUscGFzc3dvcmQsY29kZSlcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSk7XG4gICAgICAgIC8v6aqM6K+B56CB5q2j56Gu5LiU5Zyo5pe25pWI6IyD5Zu05YaF5pe277yaXG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgIC8v5LuO5pWw5o2u5bqT5Lit5p+l6K+i5LiO55So5oi35ZCN5a+55bqU55qE5a+G56CB77yM5b2T55So5oi35ZCN5a2Y5Zyo5LiU5a+G56CB5q2j56Gu5pe277yM6aKB5Y+RdG9rZW5cbiAgICAgICAgICAgIC8v5b2T55So5oi35ZCN5LiN5a2Y5Zyo5pe25bqU6K+l6L+b6KGM6ZSZ6K+v5aSE55CGXG4gICAgICAgICAgICBjb25zdCBtb25nb1Bhc3N3b3JkID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7J3VzZXJuYW1lJzp1c2VybmFtZX0pO1xuICAgICAgICAgICAgaWYgKG1vbmdvUGFzc3dvcmQucGFzc3dvcmQgPT0gcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKHtpZDogJ2R6eid9LCBKV1RfU0VDUkVULCB7ZXhwaXJlc0luOiAnMWQnfSlcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICB0b2tlblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAn5a+G56CB6ZSZ6K+vJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgICBtc2c6ICfpqozor4HnoIHplJnor68nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZWcoY3R4KSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IHt9IC8v55So5p2l6L+U5Zue6ZSZ6K+v55qE5a+56LGh77yM5pWw5o2u57uT5p6E6ZyA6KaB5LiOdmVldmFsaWRhdGXop4TlrprnmoTkuIDoh7RcbiAgICAgICAgY29uc3Qge2NvZGUsIG5pY2tuYW1lLCBwYXNzd29yZCwgZW1haWwsIHNpZH0gPSBjdHgucmVxdWVzdC5ib2R5O1xuICAgICAgICAvLzEu5o6l5pS25YmN56uv5Y+R6YCB55qE5pWw5o2uXG4gICAgICAgIC8vMi7mo4Dmn6Xpqozor4HnoIHmmK/lkKbmraPnoa7lj4rmnInmlYjmnJ9cbiAgICAgICAgLy8zLuajgOafpWVtYWnmmK/lkKblt7LlrZjlnKhcbiAgICAgICAgLy80LuajgOafpW5pY2tuYW1l5piv5ZCm5bey5a2Y5ZyoXG4gICAgICAgIC8vNS7oi6Xpg73kuI3lrZjlnKjliJnov5vooYzms6jlhozlubbov5Tlm54yMDBcbiAgICAgICAgLy82Lui/lOWbnm1zZ+WvueixoVxuXG4gICAgICAgIC8vMi5cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSk7XG4gICAgICAgIGxldCBleGlzdCA9IGZhbHNlO1xuICAgICAgICAvL+mqjOivgeeggeato+ehruS4lOWcqOaXtuaViOiMg+WbtOWGheaXtu+8mlxuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAvLzMuXG4gICAgICAgICAgICBjb25zdCBtb25nb1VzZXJuYW1lID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7J3VzZXJuYW1lJzplbWFpbH0pO1xuICAgICAgICAgICAgaWYgKG1vbmdvVXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICBtc2cuZW1haWwgPSBbJ+mCrueuseW3suazqOWGjO+8gSddXG4gICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIC8vNC5cbiAgICAgICAgICAgIGNvbnN0IG1vbmdvTmlja05hbWUgPSBhd2FpdCBVc2Vycy5maW5kT25lKHsnbmlja25hbWUnOiBuaWNrbmFtZX0pXG4gICAgICAgICAgICBpZiAobW9uZ29OaWNrTmFtZSkge1xuICAgICAgICAgICAgICAgIG1zZy5uaWNrbmFtZSA9IFsn5pi156ew5bey5a2Y5Zyo77yBJ11cbiAgICAgICAgICAgICAgICBleGlzdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLzUuXG4gICAgICAgICAgICBpZiAoIWV4aXN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBuZXcgVXNlcnMoe1xuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy/ov5vooYzlrZjlgqjmk43kvZxcbiAgICAgICAgICAgICAgICBjb25zdCBtb25nb1JlcyA9IGF3YWl0IHVzZXJzLnNhdmUoKVxuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogJ+azqOWGjOaIkOWKnyEnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBtb25nb1Jlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLy/lvZPmmLXnp7DlkoznlKjmiLflkI3lnYfmnInmlYjml7bvvIzkuI3miafooYwxMTjooYzlhoXlrrnvvIzlkKbliJnmiafooYxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZy5jb2RlID0gWyfpqozor4HnoIHplJnor68nXVxuICAgICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogNDAxLFxuICAgICAgICAgICAgICAgIG1zZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICAgICAgY29kZTogNTAwLFxuICAgICAgICAgICAgbXNnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB0ZXN0KGN0eCkge1xuICAgICAgICBjb25zdCB7dXNlcm5hbWV9ID0gY3R4LnJlcXVlc3QuYm9keVxuICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSlcbiAgICAgICAgY29uc29sZS5sb2coY3R4LnJlcXVlc3QuYm9keSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "LoginController.js"
      ],
      "names": [
        "LoginController",
        "constructor",
        "forget",
        "ctx",
        "body",
        "username",
        "code",
        "request",
        "console",
        "log",
        "message",
        "user",
        "expire",
        "add",
        "format",
        "to",
        "err",
        "login",
        "password",
        "sid",
        "res",
        "mongoPassword",
        "Users",
        "findOne",
        "token",
        "jsonwebtoken",
        "sign",
        "id",
        "JWT_SECRET",
        "expiresIn",
        "msg",
        "reg",
        "nickname",
        "email",
        "exist",
        "mongoUsername",
        "mongoNickName",
        "users",
        "mongoRes",
        "save",
        "data",
        "test"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/api/",
      "sourcesContent": [
        "import send from '../config/MailConfig'\nimport moment from 'moment'\nimport jsonwebtoken from 'jsonwebtoken'\nimport {JWT_SECRET} from '../config/config'\nimport json from 'koa-json';\nimport {checkCode} from '../common/utils'\nimport Users from '../model/Users'\n\n\nclass LoginController {\n    constructor() {\n\n    }\n\n    async forget(ctx) {\n\n        //在发送邮件前应检查邮件名在数据库中是否存在以及发送过来的验证码是否正确\n        const {body: {username, code}} = ctx.request;\n        console.log(ctx.request)\n        let message = '';\n        try{\n            console.log(username, code)\n            message = await send({\n                user: 'mock',\n                expire: moment().add(30, 'm').format('YYYY M D h:mm:ss'),\n                user: username,\n                to: username\n            })\n        } catch (err) {\n            console.log(err);\n        }\n        ctx.body = {\n            code: 200,\n            message\n        }\n    }\n\n    async login(ctx) {\n        //检查验证码是否匹配及其有效性\n        //验证用户名密码是否正确\n        //返回token\n        const {username, password, sid, code} = ctx.request.body;\n        // console.log(username,password,code)\n        const res = await checkCode(sid, code);\n        //验证码正确且在时效范围内时：\n        if (res) {\n            //从数据库中查询与用户名对应的密码，当用户名存在且密码正确时，颁发token\n            //当用户名不存在时应该进行错误处理\n            const mongoPassword = await Users.findOne({'username':username});\n            if (mongoPassword.password == password) {\n                const token = jsonwebtoken.sign({id: 'dzz'}, JWT_SECRET, {expiresIn: '1d'})\n                ctx.body = {\n                    code: 200,\n                    token\n                }\n            } else {\n                ctx.body = {\n                    code: 401,\n                    msg: '密码错误'\n                }\n            }\n        } else {\n            ctx.body = {\n                code: 401,\n                msg: '验证码错误'\n            }\n        }\n    }\n\n    async reg(ctx) {\n        const msg = {} //用来返回错误的对象，数据结构需要与veevalidate规定的一致\n        const {code, nickname, password, email, sid} = ctx.request.body;\n        //1.接收前端发送的数据\n        //2.检查验证码是否正确及有效期\n        //3.检查emai是否已存在\n        //4.检查nickname是否已存在\n        //5.若都不存在则进行注册并返回200\n        //6.返回msg对象\n\n        //2.\n        const res = await checkCode(sid, code);\n        let exist = false;\n        //验证码正确且在时效范围内时：\n        if (res) {\n            //3.\n            const mongoUsername = await Users.findOne({'username':email});\n            if (mongoUsername) {\n                msg.email = ['邮箱已注册！']\n                exist = true;\n            } \n            //4.\n            const mongoNickName = await Users.findOne({'nickname': nickname})\n            if (mongoNickName) {\n                msg.nickname = ['昵称已存在！']\n                exist = true;\n            }\n            //5.\n            if (!exist) {\n                const users = new Users({\n                    username: email,\n                    nickname,\n                    password\n                })\n                //进行存储操作\n                const mongoRes = await users.save()\n                ctx.body = {\n                    code: 200,\n                    msg: '注册成功!',\n                    data: mongoRes\n                }\n                return //当昵称和用户名均有效时，不执行118行内容，否则执行\n            }\n        } else {\n            msg.code = ['验证码错误']\n            ctx.body = {\n                code: 401,\n                msg\n            }\n        }\n        ctx.body = {\n            code: 500,\n            msg\n        }\n    }\n\n    async test(ctx) {\n        const {username} = ctx.request.body\n        console.log(username)\n        console.log(ctx.request.body)\n    }\n}\n\nexport default new LoginController()"
      ]
    },
    "sourceType": "script",
    "mtime": 1593080806669
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/MailConfig.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "MailConfig.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// async..await is not allowed in global scope, must use a wrapper\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  //   let testAccount = await nodemailer.createTestAccount();\n  // create reusable transporter object using the default SMTP transport\n  let transporter = _nodemailer.default.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: \"1005739128@qq.com\",\n      // generated ethereal user\n      pass: \"gmlndvnaqldrbbie\" // generated ethereal password\n\n    }\n  }); //   const sendInfo = {\n  //     user: \"\",\n  //     to: \"1005739128@qq.com\",\n  //     expire: '2020-7-1'\n  //   };\n\n\n  const url = \"https://baidu.com\"; // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: \" test <1005739128@qq.com>\",\n    // sender address\n    to: sendInfo.to,\n    // list of receivers\n    subject: \"找回密码\",\n    // Subject line\n    text: \"no reply\",\n    // plain text body\n    html: `\n      <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">\n          Imooc社区——欢迎来到官方社区\n        </div>\n        <div style=\"padding: 25px\">\n          <div>\n            您好，${sendInfo.user}用户，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：\n          </div>\n          <a\n            href=\"${url}\"\n            style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\"\n          >\n            立即重置密码\n          </a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">\n            如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。\n          </div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">\n          系统邮件，请勿直接回复\n        </div>\n      </div>\n    ` // html body\n\n  });\n  return '邮件发送成功'; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n}\n\nvar _default = send;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1haWxDb25maWcuanMiXSwibmFtZXMiOlsic2VuZCIsInNlbmRJbmZvIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJ1cmwiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJleHBpcmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBQ0EsZUFBZUEsSUFBZixDQUFvQkMsUUFBcEIsRUFBOEI7QUFDNUI7QUFDQTtBQUNBO0FBRUE7QUFDQSxNQUFJQyxXQUFXLEdBQUdDLG9CQUFXQyxlQUFYLENBQTJCO0FBQzNDQyxJQUFBQSxJQUFJLEVBQUUsYUFEcUM7QUFFM0NDLElBQUFBLElBQUksRUFBRSxHQUZxQztBQUczQ0MsSUFBQUEsTUFBTSxFQUFFLEtBSG1DO0FBRzVCO0FBQ2ZDLElBQUFBLElBQUksRUFBRTtBQUNKQyxNQUFBQSxJQUFJLEVBQUUsbUJBREY7QUFDdUI7QUFDM0JDLE1BQUFBLElBQUksRUFBRSxrQkFGRixDQUVzQjs7QUFGdEI7QUFKcUMsR0FBM0IsQ0FBbEIsQ0FONEIsQ0FnQjlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVFLFFBQU1DLEdBQUcsR0FBRyxtQkFBWixDQXRCNEIsQ0F3QjVCOztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNVixXQUFXLENBQUNXLFFBQVosQ0FBcUI7QUFDcENDLElBQUFBLElBQUksRUFBRSwyQkFEOEI7QUFDRDtBQUNuQ0MsSUFBQUEsRUFBRSxFQUFFZCxRQUFRLENBQUNjLEVBRnVCO0FBRW5CO0FBQ2pCQyxJQUFBQSxPQUFPLEVBQUUsTUFIMkI7QUFHbkI7QUFDakJDLElBQUFBLElBQUksRUFBRSxVQUo4QjtBQUlsQjtBQUNsQkMsSUFBQUEsSUFBSSxFQUFHOzs7Ozs7O2lCQU9NakIsUUFBUSxDQUFDUSxJQUFLLHFCQUFvQlIsUUFBUSxDQUFDa0IsTUFBTzs7O29CQUcvQ1IsR0FBSTs7Ozs7Ozs7Ozs7OztLQWZnQixDQTRCakM7O0FBNUJpQyxHQUFyQixDQUFqQjtBQStCQSxTQUFPLFFBQVAsQ0F4RDRCLENBeUQ1QjtBQUVEOztlQUNjWCxJIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gXCJub2RlbWFpbGVyXCI7XG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcbmFzeW5jIGZ1bmN0aW9uIHNlbmQoc2VuZEluZm8pIHtcbiAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXG4gIC8vIE9ubHkgbmVlZGVkIGlmIHlvdSBkb24ndCBoYXZlIGEgcmVhbCBtYWlsIGFjY291bnQgZm9yIHRlc3RpbmdcbiAgLy8gICBsZXQgdGVzdEFjY291bnQgPSBhd2FpdCBub2RlbWFpbGVyLmNyZWF0ZVRlc3RBY2NvdW50KCk7XG5cbiAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxuICBsZXQgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgaG9zdDogXCJzbXRwLnFxLmNvbVwiLFxuICAgIHBvcnQ6IDU4NyxcbiAgICBzZWN1cmU6IGZhbHNlLCAvLyB0cnVlIGZvciA0NjUsIGZhbHNlIGZvciBvdGhlciBwb3J0c1xuICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6IFwiMTAwNTczOTEyOEBxcS5jb21cIiwgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHVzZXJcbiAgICAgIHBhc3M6IFwiZ21sbmR2bmFxbGRyYmJpZVwiLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgcGFzc3dvcmRcbiAgICB9LFxuICB9KTtcblxuLy8gICBjb25zdCBzZW5kSW5mbyA9IHtcbi8vICAgICB1c2VyOiBcIlwiLFxuLy8gICAgIHRvOiBcIjEwMDU3MzkxMjhAcXEuY29tXCIsXG4vLyAgICAgZXhwaXJlOiAnMjAyMC03LTEnXG4vLyAgIH07XG5cbiAgY29uc3QgdXJsID0gXCJodHRwczovL2JhaWR1LmNvbVwiO1xuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBsZXQgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICBmcm9tOiBcIiB0ZXN0IDwxMDA1NzM5MTI4QHFxLmNvbT5cIiwgLy8gc2VuZGVyIGFkZHJlc3NcbiAgICB0bzogc2VuZEluZm8udG8sIC8vIGxpc3Qgb2YgcmVjZWl2ZXJzXG4gICAgc3ViamVjdDogXCLmib7lm57lr4bnoIFcIiwgLy8gU3ViamVjdCBsaW5lXG4gICAgdGV4dDogXCJubyByZXBseVwiLCAvLyBwbGFpbiB0ZXh0IGJvZHlcbiAgICBodG1sOiBgXG4gICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RjZGNkYztjb2xvcjogIzY3Njc2Nzt3aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNTBweDtwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7IGJhY2tncm91bmQ6ICMzOTNkNDk7IGxpbmUtaGVpZ2h0OiA2MHB4OyBjb2xvcjogIzU4YTM2ZjsgZm9udC1zaXplOiAxOHB4O3BhZGRpbmctbGVmdDogMTBweDtcIj5cbiAgICAgICAgICBJbW9vY+ekvuWMuuKAlOKAlOasoui/juadpeWIsOWumOaWueekvuWMulxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDI1cHhcIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAg5oKo5aW977yMJHtzZW5kSW5mby51c2VyfeeUqOaIt++8jOmHjee9rumTvuaOpeacieaViOaXtumXtDMw5YiG6ZKf77yM6K+35ZyoJHtzZW5kSW5mby5leHBpcmV95LmL5YmN6YeN572u5oKo55qE5a+G56CB77yaXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGhyZWY9XCIke3VybH1cIlxuICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDIwcHg7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjMDA5ZTk0OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7bWFyZ2luOiAxNXB4IDA7XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDnq4vljbPph43nva7lr4bnoIFcbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDVweDsgYmFja2dyb3VuZDogI2YyZjJmMjtcIj5cbiAgICAgICAgICAgIOWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAglxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmYWZhZmE7IGNvbG9yOiAjYjRiNGI0O3RleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDQ1cHg7IGhlaWdodDogNDVweDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyBib3R0b206IDA7d2lkdGg6IDEwMCU7XCI+XG4gICAgICAgICAg57O757uf6YKu5Lu277yM6K+35Yu/55u05o6l5Zue5aSNXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCwgLy8gaHRtbCBib2R5XG4gIH0pO1xuXG4gIHJldHVybiAn6YKu5Lu25Y+R6YCB5oiQ5YqfJ1xuICAvLyBNZXNzYWdlIHNlbnQ6IDxiNjU4ZjhjYS02Mjk2LWNjZjQtODMwNi04N2Q1N2EwYjQzMjFAZXhhbXBsZS5jb20+XG5cbn1cbmV4cG9ydCBkZWZhdWx0IHNlbmQ7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "MailConfig.js"
      ],
      "names": [
        "send",
        "sendInfo",
        "transporter",
        "nodemailer",
        "createTransport",
        "host",
        "port",
        "secure",
        "auth",
        "user",
        "pass",
        "url",
        "info",
        "sendMail",
        "from",
        "to",
        "subject",
        "text",
        "html",
        "expire"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,eAAeA,IAAf,CAAoBC,QAApB,EAA8B;AAC5B;AACA;AACA;AAEA;AACA,MAAIC,WAAW,GAAGC,oBAAWC,eAAX,CAA2B;AAC3CC,IAAAA,IAAI,EAAE,aADqC;AAE3CC,IAAAA,IAAI,EAAE,GAFqC;AAG3CC,IAAAA,MAAM,EAAE,KAHmC;AAG5B;AACfC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAE,mBADF;AACuB;AAC3BC,MAAAA,IAAI,EAAE,kBAFF,CAEsB;;AAFtB;AAJqC,GAA3B,CAAlB,CAN4B,CAgB9B;AACA;AACA;AACA;AACA;;;AAEE,QAAMC,GAAG,GAAG,mBAAZ,CAtB4B,CAwB5B;;AACA,MAAIC,IAAI,GAAG,MAAMV,WAAW,CAACW,QAAZ,CAAqB;AACpCC,IAAAA,IAAI,EAAE,2BAD8B;AACD;AACnCC,IAAAA,EAAE,EAAEd,QAAQ,CAACc,EAFuB;AAEnB;AACjBC,IAAAA,OAAO,EAAE,MAH2B;AAGnB;AACjBC,IAAAA,IAAI,EAAE,UAJ8B;AAIlB;AAClBC,IAAAA,IAAI,EAAG;;;;;;;iBAOMjB,QAAQ,CAACQ,IAAK,qBAAoBR,QAAQ,CAACkB,MAAO;;;oBAG/CR,GAAI;;;;;;;;;;;;;KAfgB,CA4BjC;;AA5BiC,GAArB,CAAjB;AA+BA,SAAO,QAAP,CAxD4B,CAyD5B;AAED;;eACcX,I",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import nodemailer from \"nodemailer\";\n// async..await is not allowed in global scope, must use a wrapper\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  //   let testAccount = await nodemailer.createTestAccount();\n\n  // create reusable transporter object using the default SMTP transport\n  let transporter = nodemailer.createTransport({\n    host: \"smtp.qq.com\",\n    port: 587,\n    secure: false, // true for 465, false for other ports\n    auth: {\n      user: \"1005739128@qq.com\", // generated ethereal user\n      pass: \"gmlndvnaqldrbbie\", // generated ethereal password\n    },\n  });\n\n//   const sendInfo = {\n//     user: \"\",\n//     to: \"1005739128@qq.com\",\n//     expire: '2020-7-1'\n//   };\n\n  const url = \"https://baidu.com\";\n\n  // send mail with defined transport object\n  let info = await transporter.sendMail({\n    from: \" test <1005739128@qq.com>\", // sender address\n    to: sendInfo.to, // list of receivers\n    subject: \"找回密码\", // Subject line\n    text: \"no reply\", // plain text body\n    html: `\n      <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">\n          Imooc社区——欢迎来到官方社区\n        </div>\n        <div style=\"padding: 25px\">\n          <div>\n            您好，${sendInfo.user}用户，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：\n          </div>\n          <a\n            href=\"${url}\"\n            style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\"\n          >\n            立即重置密码\n          </a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">\n            如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。\n          </div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">\n          系统邮件，请勿直接回复\n        </div>\n      </div>\n    `, // html body\n  });\n\n  return '邮件发送成功'\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n\n}\nexport default send;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1592380930715
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkCode = void 0;\n\nvar _redisConnect = require(\"../config/redisConnect\");\n\n//检查前端传递的验证码与redis中存储的验证码信息是否吻合\nconst checkCode = async (sid, code) => {\n  const res = await (0, _redisConnect.getValue)(sid);\n\n  if (res.toLowerCase() === code.toLowerCase()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexports.checkCode = checkCode;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImNoZWNrQ29kZSIsInNpZCIsImNvZGUiLCJyZXMiLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBO0FBQ08sTUFBTUEsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsSUFBWixLQUFxQjtBQUMxQyxRQUFNQyxHQUFHLEdBQUcsTUFBTSw0QkFBU0YsR0FBVCxDQUFsQjs7QUFDQSxNQUFJRSxHQUFHLENBQUNDLFdBQUosT0FBc0JGLElBQUksQ0FBQ0UsV0FBTCxFQUExQixFQUE4QztBQUMxQyxXQUFPLElBQVA7QUFDSCxHQUZELE1BRU87QUFDSCxXQUFPLEtBQVA7QUFDSDtBQUNKLENBUE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9jb21tb24vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnZXRWYWx1ZX0gZnJvbSAnLi4vY29uZmlnL3JlZGlzQ29ubmVjdCdcblxuLy/mo4Dmn6XliY3nq6/kvKDpgJLnmoTpqozor4HnoIHkuI5yZWRpc+S4reWtmOWCqOeahOmqjOivgeeggeS/oeaBr+aYr+WQpuWQu+WQiFxuZXhwb3J0IGNvbnN0IGNoZWNrQ29kZSA9IGFzeW5jIChzaWQsIGNvZGUpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRWYWx1ZShzaWQpXG4gICAgaWYgKHJlcy50b0xvd2VyQ2FzZSgpID09PSBjb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "checkCode",
        "sid",
        "code",
        "res",
        "toLowerCase"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;AACO,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAC1C,QAAMC,GAAG,GAAG,MAAM,4BAASF,GAAT,CAAlB;;AACA,MAAIE,GAAG,CAACC,WAAJ,OAAsBF,IAAI,CAACE,WAAL,EAA1B,EAA8C;AAC1C,WAAO,IAAP;AACH,GAFD,MAEO;AACH,WAAO,KAAP;AACH;AACJ,CAPM",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "sourcesContent": [
        "import {getValue} from '../config/redisConnect'\n\n//检查前端传递的验证码与redis中存储的验证码信息是否吻合\nexport const checkCode = async (sid, code) => {\n    const res = await getValue(sid)\n    if (res.toLowerCase() === code.toLowerCase()) {\n        return true\n    } else {\n        return false;\n    }\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1592998622319
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/model/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/Users.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
        "sourceFileName": "Users.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoConnect = _interopRequireDefault(require(\"../config/mongoConnect\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// const mongoose = require('../config/mongoConnect')\n//在model文件夹中完成连接mongodb中对应collection的任务\nconst Schema = _mongoConnect.default.Schema;\nconst userSchema = new Schema({\n  username: String,\n  password: String,\n  nickname: String\n}); //通过model()方法连接collection，并生成了Model类，实例化model可得到model的实例即document，同时完成了对mongodb\n//数据库中对应collection的操作\n\nconst Users = _mongoConnect.default.model('users', userSchema);\n\nvar _default = Users; // module.exports = Users;\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwidXNlclNjaGVtYSIsInVzZXJuYW1lIiwiU3RyaW5nIiwicGFzc3dvcmQiLCJuaWNrbmFtZSIsIlVzZXJzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBRUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHNCQUFTRCxNQUF4QjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDMUJHLEVBQUFBLFFBQVEsRUFBRUMsTUFEZ0I7QUFFMUJDLEVBQUFBLFFBQVEsRUFBRUQsTUFGZ0I7QUFHMUJFLEVBQUFBLFFBQVEsRUFBRUY7QUFIZ0IsQ0FBWCxDQUFuQixDLENBTUE7QUFDQTs7QUFDQSxNQUFNRyxLQUFLLEdBQUdOLHNCQUFTTyxLQUFULENBQWUsT0FBZixFQUF3Qk4sVUFBeEIsQ0FBZDs7ZUFLZUssSyxFQUNmIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvbW9kZWwvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9tb25nb0Nvbm5lY3QnXG4vLyBjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJy4uL2NvbmZpZy9tb25nb0Nvbm5lY3QnKVxuXG4vL+WcqG1vZGVs5paH5Lu25aS55Lit5a6M5oiQ6L+e5o6lbW9uZ29kYuS4reWvueW6lGNvbGxlY3Rpb27nmoTku7vliqFcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdXNlcm5hbWU6IFN0cmluZyxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIG5pY2tuYW1lOiBTdHJpbmdcbn0pXG5cbi8v6YCa6L+HbW9kZWwoKeaWueazlei/nuaOpWNvbGxlY3Rpb27vvIzlubbnlJ/miJDkuoZNb2RlbOexu++8jOWunuS+i+WMlm1vZGVs5Y+v5b6X5YiwbW9kZWznmoTlrp7kvovljbNkb2N1bWVudO+8jOWQjOaXtuWujOaIkOS6huWvuW1vbmdvZGJcbi8v5pWw5o2u5bqT5Lit5a+55bqUY29sbGVjdGlvbueahOaTjeS9nFxuY29uc3QgVXNlcnMgPSBtb25nb29zZS5tb2RlbCgndXNlcnMnLCB1c2VyU2NoZW1hKTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG4vLyBtb2R1bGUuZXhwb3J0cyA9IFVzZXJzOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "Users.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "userSchema",
        "username",
        "String",
        "password",
        "nickname",
        "Users",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AAEA;AAEA,MAAMA,MAAM,GAAGC,sBAASD,MAAxB;AAEA,MAAME,UAAU,GAAG,IAAIF,MAAJ,CAAW;AAC1BG,EAAAA,QAAQ,EAAEC,MADgB;AAE1BC,EAAAA,QAAQ,EAAED,MAFgB;AAG1BE,EAAAA,QAAQ,EAAEF;AAHgB,CAAX,CAAnB,C,CAMA;AACA;;AACA,MAAMG,KAAK,GAAGN,sBAASO,KAAT,CAAe,OAAf,EAAwBN,UAAxB,CAAd;;eAKeK,K,EACf",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/model/",
      "sourcesContent": [
        "import mongoose from '../config/mongoConnect'\n// const mongoose = require('../config/mongoConnect')\n\n//在model文件夹中完成连接mongodb中对应collection的任务\n\nconst Schema = mongoose.Schema;\n\nconst userSchema = new Schema({\n    username: String,\n    password: String,\n    nickname: String\n})\n\n//通过model()方法连接collection，并生成了Model类，实例化model可得到model的实例即document，同时完成了对mongodb\n//数据库中对应collection的操作\nconst Users = mongoose.model('users', userSchema);\n\n\n\n\nexport default Users;\n// module.exports = Users;"
      ]
    },
    "sourceType": "script",
    "mtime": 1593073846864
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/mongoConnect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
        "sourceFileName": "mongoConnect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// const mongoose = require('mongoose')\n// const {DB_URL} = require('./config')\n//连接到mongodb数据库\n_mongoose.default.connect(_config.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); //连接成功\n\n\n_mongoose.default.connection.on('connected', () => {\n  console.log(`connected to ${_config.DB_URL}`);\n}); //断开连接\n\n\n_mongoose.default.connection.on('disconnected', () => {\n  console.log(`disconnect from ${_config.DB_URL}`);\n}); //连接异常\n\n\n_mongoose.default.connection.on('error', error => {\n  console.log(`connect error: ${error}`);\n}); // module.exports =  mongoose\n\n\nvar _default = _mongoose.default;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvQ29ubmVjdC5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbm5lY3QiLCJEQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7OztBQURBO0FBRUE7QUFDQTtBQUNBQSxrQkFBU0MsT0FBVCxDQUFpQkMsY0FBakIsRUFBeUI7QUFDckJDLEVBQUFBLGVBQWUsRUFBRSxJQURJO0FBRXJCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUZDLENBQXpCLEUsQ0FLQTs7O0FBQ0FKLGtCQUFTSyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3RDQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxnQkFBZU4sY0FBTyxFQUFuQztBQUNILENBRkQsRSxDQUlBOzs7QUFDQUYsa0JBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLGNBQXZCLEVBQXVDLE1BQU07QUFDekNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLG1CQUFrQk4sY0FBTyxFQUF0QztBQUNILENBRkQsRSxDQUlBOzs7QUFDQUYsa0JBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxLQUFELElBQVc7QUFDdkNGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGtCQUFpQkMsS0FBTSxFQUFwQztBQUNILENBRkQsRSxDQUlBOzs7ZUFDZVQsaUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2Rpbmd6aGl5YW8vRGVza3RvcC/lpKfliY3nq68va29hL3NyYy9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuLy8gY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5pbXBvcnQge0RCX1VSTH0gZnJvbSAnLi9jb25maWcnXG4vLyBjb25zdCB7REJfVVJMfSA9IHJlcXVpcmUoJy4vY29uZmlnJylcbi8v6L+e5o6l5YiwbW9uZ29kYuaVsOaNruW6k1xubW9uZ29vc2UuY29ubmVjdChEQl9VUkwsIHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG59KVxuXG4vL+i/nuaOpeaIkOWKn1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBjb25uZWN0ZWQgdG8gJHtEQl9VUkx9YClcbn0pXG5cbi8v5pat5byA6L+e5o6lXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYGRpc2Nvbm5lY3QgZnJvbSAke0RCX1VSTH1gKVxufSlcblxuLy/ov57mjqXlvILluLhcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5sb2coYGNvbm5lY3QgZXJyb3I6ICR7ZXJyb3J9YClcbn0pXG5cbi8vIG1vZHVsZS5leHBvcnRzID0gIG1vbmdvb3NlXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mongoConnect.js"
      ],
      "names": [
        "mongoose",
        "connect",
        "DB_URL",
        "useNewUrlParser",
        "useUnifiedTopology",
        "connection",
        "on",
        "console",
        "log",
        "error"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;AADA;AAEA;AACA;AACAA,kBAASC,OAAT,CAAiBC,cAAjB,EAAyB;AACrBC,EAAAA,eAAe,EAAE,IADI;AAErBC,EAAAA,kBAAkB,EAAE;AAFC,CAAzB,E,CAKA;;;AACAJ,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,MAAM;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAa,gBAAeN,cAAO,EAAnC;AACH,CAFD,E,CAIA;;;AACAF,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,MAAM;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAa,mBAAkBN,cAAO,EAAtC;AACH,CAFD,E,CAIA;;;AACAF,kBAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAiCG,KAAD,IAAW;AACvCF,EAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBC,KAAM,EAApC;AACH,CAFD,E,CAIA;;;eACeT,iB",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/config/",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n// const mongoose = require('mongoose')\nimport {DB_URL} from './config'\n// const {DB_URL} = require('./config')\n//连接到mongodb数据库\nmongoose.connect(DB_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n})\n\n//连接成功\nmongoose.connection.on('connected', () => {\n    console.log(`connected to ${DB_URL}`)\n})\n\n//断开连接\nmongoose.connection.on('disconnected', () => {\n    console.log(`disconnect from ${DB_URL}`)\n})\n\n//连接异常\nmongoose.connection.on('error', (error) => {\n    console.log(`connect error: ${error}`)\n})\n\n// module.exports =  mongoose\nexport default mongoose"
      ]
    },
    "sourceType": "script",
    "mtime": 1592987113873
  },
  "{\"sourceRoot\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"filename\":\"/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"dev\",\"root\":\"/Users/dingzhiyao/Desktop/大前端/koa\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.2:dev": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/dingzhiyao/Desktop/大前端/koa",
      "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
      "babelrc": false,
      "configFile": false,
      "envName": "dev",
      "root": "/Users/dingzhiyao/Desktop/大前端/koa",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/errorHandle.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
        "sourceFileName": "errorHandle.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = (ctx, next) => {\n  return next().catch(err => {\n    if (401 == err.status) {\n      ctx.body = {\n        code: 401,\n        text: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = {\n        code: 500,\n        text: err.message,\n        error: err.stack\n      };\n      throw err;\n    }\n  });\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ySGFuZGxlLmpzIl0sIm5hbWVzIjpbImN0eCIsIm5leHQiLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImJvZHkiLCJjb2RlIiwidGV4dCIsIm1lc3NhZ2UiLCJlcnJvciIsInN0YWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsQ0FBQ0EsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDMUIsU0FBT0EsSUFBSSxHQUFHQyxLQUFQLENBQWNDLEdBQUQsSUFBUztBQUN6QixRQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBZixFQUF1QjtBQUNyQkosTUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDUEMsUUFBQUEsSUFBSSxFQUFFLEdBREM7QUFFUEMsUUFBQUEsSUFBSSxFQUFFO0FBRkMsT0FBWDtBQUlELEtBTEQsTUFLTztBQUNMUCxNQUFBQSxHQUFHLENBQUNJLE1BQUosR0FBYUQsR0FBRyxDQUFDQyxNQUFKLElBQWMsR0FBM0I7QUFDQUosTUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDVEMsUUFBQUEsSUFBSSxFQUFFLEdBREc7QUFFVEMsUUFBQUEsSUFBSSxFQUFFSixHQUFHLENBQUNLLE9BRkQ7QUFHVEMsUUFBQUEsS0FBSyxFQUFFTixHQUFHLENBQUNPO0FBSEYsT0FBWDtBQUtBLFlBQU1QLEdBQU47QUFDRDtBQUNKLEdBZk0sQ0FBUDtBQWdCSCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kaW5nemhpeWFvL0Rlc2t0b3Av5aSn5YmN56uvL2tvYS9zcmMvY29tbW9uLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChjdHgsIG5leHQpID0+IHtcbiAgICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XG4gICAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICAgICAgdGV4dDogJ1Byb3RlY3RlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMDtcbiAgICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICAgIGNvZGU6IDUwMCxcbiAgICAgICAgICAgIHRleHQ6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgZXJyb3I6IGVyci5zdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgIH0pO1xufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "errorHandle.js"
      ],
      "names": [
        "ctx",
        "next",
        "catch",
        "err",
        "status",
        "body",
        "code",
        "text",
        "message",
        "error",
        "stack"
      ],
      "mappings": ";;;;;;;eAAe,CAACA,GAAD,EAAMC,IAAN,KAAe;AAC1B,SAAOA,IAAI,GAAGC,KAAP,CAAcC,GAAD,IAAS;AACzB,QAAI,OAAOA,GAAG,CAACC,MAAf,EAAuB;AACrBJ,MAAAA,GAAG,CAACK,IAAJ,GAAW;AACPC,QAAAA,IAAI,EAAE,GADC;AAEPC,QAAAA,IAAI,EAAE;AAFC,OAAX;AAID,KALD,MAKO;AACLP,MAAAA,GAAG,CAACI,MAAJ,GAAaD,GAAG,CAACC,MAAJ,IAAc,GAA3B;AACAJ,MAAAA,GAAG,CAACK,IAAJ,GAAW;AACTC,QAAAA,IAAI,EAAE,GADG;AAETC,QAAAA,IAAI,EAAEJ,GAAG,CAACK,OAFD;AAGTC,QAAAA,KAAK,EAAEN,GAAG,CAACO;AAHF,OAAX;AAKA,YAAMP,GAAN;AACD;AACJ,GAfM,CAAP;AAgBH,C",
      "sourceRoot": "/Users/dingzhiyao/Desktop/大前端/koa/src/common/",
      "sourcesContent": [
        "export default (ctx, next) => {\n    return next().catch((err) => {\n        if (401 == err.status) {\n          ctx.body = {\n              code: 401,\n              text: 'Protected resource, use Authorization header to get access\\n'\n          }\n        } else {\n          ctx.status = err.status || 500;\n          ctx.body = {\n            code: 500,\n            text: err.message,\n            error: err.stack\n          }\n          throw err\n        }\n    });\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1593000980695
  }
}